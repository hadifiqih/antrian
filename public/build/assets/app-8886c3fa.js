function Jn(n,e){return function(){return n.apply(e,arguments)}}const{toString:Dr}=Object.prototype,{getPrototypeOf:Dt}=Object,tt=(n=>e=>{const t=Dr.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ie=n=>(n=n.toLowerCase(),e=>tt(e)===n),nt=n=>e=>typeof e===n,{isArray:Te}=Array,Ae=nt("undefined");function Mr(n){return n!==null&&!Ae(n)&&n.constructor!==null&&!Ae(n.constructor)&&Q(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Kn=ie("ArrayBuffer");function Br(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Kn(n.buffer),e}const Hr=nt("string"),Q=nt("function"),Zn=nt("number"),it=n=>n!==null&&typeof n=="object",Fr=n=>n===!0||n===!1,Fe=n=>{if(tt(n)!=="object")return!1;const e=Dt(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},jr=ie("Date"),$r=ie("File"),Ur=ie("Blob"),Gr=ie("FileList"),qr=n=>it(n)&&Q(n.pipe),Xr=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Q(n.append)&&((e=tt(n))==="formdata"||e==="object"&&Q(n.toString)&&n.toString()==="[object FormData]"))},Wr=ie("URLSearchParams"),[Yr,Vr,Jr,Kr]=["ReadableStream","Request","Response","Headers"].map(ie),Zr=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Le(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),Te(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),c=o.length;let h;for(i=0;i<c;i++)h=o[i],e.call(null,n[h],h,n)}}function Qn(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const ei=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ti=n=>!Ae(n)&&n!==ei;function xt(){const{caseless:n}=ti(this)&&this||{},e={},t=(i,s)=>{const o=n&&Qn(e,s)||s;Fe(e[o])&&Fe(i)?e[o]=xt(e[o],i):Fe(i)?e[o]=xt({},i):Te(i)?e[o]=i.slice():e[o]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Le(arguments[i],t);return e}const Qr=(n,e,t,{allOwnKeys:i}={})=>(Le(e,(s,o)=>{t&&Q(s)?n[o]=Jn(s,t):n[o]=s},{allOwnKeys:i}),n),eo=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),to=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},no=(n,e,t,i)=>{let s,o,c;const h={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)c=s[o],(!i||i(c,n,e))&&!h[c]&&(e[c]=n[c],h[c]=!0);n=t!==!1&&Dt(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},so=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},ro=n=>{if(!n)return null;if(Te(n))return n;let e=n.length;if(!Zn(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},oo=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Dt(Uint8Array)),ao=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},lo=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},co=ie("HTMLFormElement"),uo=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),wn=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),ho=ie("RegExp"),ni=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Le(t,(s,o)=>{let c;(c=e(s,o,n))!==!1&&(i[o]=c||s)}),Object.defineProperties(n,i)},fo=n=>{ni(n,(e,t)=>{if(Q(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Q(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},go=(n,e)=>{const t={},i=s=>{s.forEach(o=>{t[o]=!0})};return Te(n)?i(n):i(String(n).split(e)),t},po=()=>{},mo=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Ct="abcdefghijklmnopqrstuvwxyz",Sn="0123456789",ii={DIGIT:Sn,ALPHA:Ct,ALPHA_DIGIT:Ct+Ct.toUpperCase()+Sn},vo=(n=16,e=ii.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function yo(n){return!!(n&&Q(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const bo=n=>{const e=new Array(10),t=(i,s)=>{if(it(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const o=Te(i)?[]:{};return Le(i,(c,h)=>{const f=t(c,s+1);!Ae(f)&&(o[h]=f)}),e[s]=void 0,o}}return i};return t(n,0)},wo=ie("AsyncFunction"),So=n=>n&&(it(n)||Q(n))&&Q(n.then)&&Q(n.catch),y={isArray:Te,isArrayBuffer:Kn,isBuffer:Mr,isFormData:Xr,isArrayBufferView:Br,isString:Hr,isNumber:Zn,isBoolean:Fr,isObject:it,isPlainObject:Fe,isReadableStream:Yr,isRequest:Vr,isResponse:Jr,isHeaders:Kr,isUndefined:Ae,isDate:jr,isFile:$r,isBlob:Ur,isRegExp:ho,isFunction:Q,isStream:qr,isURLSearchParams:Wr,isTypedArray:oo,isFileList:Gr,forEach:Le,merge:xt,extend:Qr,trim:Zr,stripBOM:eo,inherits:to,toFlatObject:no,kindOf:tt,kindOfTest:ie,endsWith:so,toArray:ro,forEachEntry:ao,matchAll:lo,isHTMLForm:co,hasOwnProperty:wn,hasOwnProp:wn,reduceDescriptors:ni,freezeMethods:fo,toObjectSet:go,toCamelCase:uo,noop:po,toFiniteNumber:mo,findKey:Qn,global:ei,isContextDefined:ti,ALPHABET:ii,generateString:vo,isSpecCompliantForm:yo,toJSONObject:bo,isAsyncFn:wo,isThenable:So};function P(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s)}y.inherits(P,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const si=P.prototype,ri={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ri[n]={value:n}});Object.defineProperties(P,ri);Object.defineProperty(si,"isAxiosError",{value:!0});P.from=(n,e,t,i,s,o)=>{const c=Object.create(si);return y.toFlatObject(n,c,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),P.call(c,n.message,e,t,i,s),c.cause=n,c.name=n.name,o&&Object.assign(c,o),c};const Co=null;function kt(n){return y.isPlainObject(n)||y.isArray(n)}function oi(n){return y.endsWith(n,"[]")?n.slice(0,-2):n}function Cn(n,e,t){return n?n.concat(e).map(function(s,o){return s=oi(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function To(n){return y.isArray(n)&&!n.some(kt)}const _o=y.toFlatObject(y,{},null,function(e){return/^is[A-Z]/.test(e)});function st(n,e,t){if(!y.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,S){return!y.isUndefined(S[T])});const i=t.metaTokens,s=t.visitor||g,o=t.dots,c=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(e);if(!y.isFunction(s))throw new TypeError("visitor must be a function");function m(b){if(b===null)return"";if(y.isDate(b))return b.toISOString();if(!f&&y.isBlob(b))throw new P("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(b)||y.isTypedArray(b)?f&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,T,S){let _=b;if(b&&!S&&typeof b=="object"){if(y.endsWith(T,"{}"))T=i?T:T.slice(0,-2),b=JSON.stringify(b);else if(y.isArray(b)&&To(b)||(y.isFileList(b)||y.endsWith(T,"[]"))&&(_=y.toArray(b)))return T=oi(T),_.forEach(function(x,D){!(y.isUndefined(x)||x===null)&&e.append(c===!0?Cn([T],D,o):c===null?T:T+"[]",m(x))}),!1}return kt(b)?!0:(e.append(Cn(S,T,o),m(b)),!1)}const v=[],p=Object.assign(_o,{defaultVisitor:g,convertValue:m,isVisitable:kt});function C(b,T){if(!y.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+T.join("."));v.push(b),y.forEach(b,function(_,I){(!(y.isUndefined(_)||_===null)&&s.call(e,_,y.isString(I)?I.trim():I,T,p))===!0&&C(_,T?T.concat(I):[I])}),v.pop()}}if(!y.isObject(n))throw new TypeError("data must be an object");return C(n),e}function Tn(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Mt(n,e){this._pairs=[],n&&st(n,this,e)}const ai=Mt.prototype;ai.append=function(e,t){this._pairs.push([e,t])};ai.toString=function(e){const t=e?function(i){return e.call(this,i,Tn)}:Tn;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Eo(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function li(n,e,t){if(!e)return n;const i=t&&t.encode||Eo,s=t&&t.serialize;let o;if(s?o=s(e,t):o=y.isURLSearchParams(e)?e.toString():new Mt(e,t).toString(i),o){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class Io{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){y.forEach(this.handlers,function(i){i!==null&&e(i)})}}const _n=Io,ci={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Oo=typeof URLSearchParams<"u"?URLSearchParams:Mt,xo=typeof FormData<"u"?FormData:null,ko=typeof Blob<"u"?Blob:null,Ao={isBrowser:!0,classes:{URLSearchParams:Oo,FormData:xo,Blob:ko},protocols:["http","https","file","blob","url","data"]},Bt=typeof window<"u"&&typeof document<"u",Ro=(n=>Bt&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),Po=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Lo=Bt&&window.location.href||"http://localhost",No=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bt,hasStandardBrowserEnv:Ro,hasStandardBrowserWebWorkerEnv:Po,origin:Lo},Symbol.toStringTag,{value:"Module"})),te={...No,...Ao};function zo(n,e){return st(n,new te.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,o){return te.isNode&&y.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Do(n){return y.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Mo(n){const e={},t=Object.keys(n);let i;const s=t.length;let o;for(i=0;i<s;i++)o=t[i],e[o]=n[o];return e}function ui(n){function e(t,i,s,o){let c=t[o++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),f=o>=t.length;return c=!c&&y.isArray(s)?s.length:c,f?(y.hasOwnProp(s,c)?s[c]=[s[c],i]:s[c]=i,!h):((!s[c]||!y.isObject(s[c]))&&(s[c]=[]),e(t,i,s[c],o)&&y.isArray(s[c])&&(s[c]=Mo(s[c])),!h)}if(y.isFormData(n)&&y.isFunction(n.entries)){const t={};return y.forEachEntry(n,(i,s)=>{e(Do(i),s,t,0)}),t}return null}function Bo(n,e,t){if(y.isString(n))try{return(e||JSON.parse)(n),y.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Ht={transitional:ci,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,o=y.isObject(e);if(o&&y.isHTMLForm(e)&&(e=new FormData(e)),y.isFormData(e))return s?JSON.stringify(ui(e)):e;if(y.isArrayBuffer(e)||y.isBuffer(e)||y.isStream(e)||y.isFile(e)||y.isBlob(e)||y.isReadableStream(e))return e;if(y.isArrayBufferView(e))return e.buffer;if(y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return zo(e,this.formSerializer).toString();if((h=y.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return st(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),Bo(e)):e}],transformResponse:[function(e){const t=this.transitional||Ht.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(y.isResponse(e)||y.isReadableStream(e))return e;if(e&&y.isString(e)&&(i&&!this.responseType||s)){const c=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?P.from(h,P.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:te.classes.FormData,Blob:te.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],n=>{Ht.headers[n]={}});const Ft=Ht,Ho=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fo=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(c){s=c.indexOf(":"),t=c.substring(0,s).trim().toLowerCase(),i=c.substring(s+1).trim(),!(!t||e[t]&&Ho[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},En=Symbol("internals");function xe(n){return n&&String(n).trim().toLowerCase()}function je(n){return n===!1||n==null?n:y.isArray(n)?n.map(je):String(n)}function jo(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const $o=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Tt(n,e,t,i,s){if(y.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!y.isString(e)){if(y.isString(i))return e.indexOf(i)!==-1;if(y.isRegExp(i))return i.test(e)}}function Uo(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function Go(n,e){const t=y.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,o,c){return this[i].call(this,e,s,o,c)},configurable:!0})})}class rt{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function o(h,f,m){const g=xe(f);if(!g)throw new Error("header name must be a non-empty string");const v=y.findKey(s,g);(!v||s[v]===void 0||m===!0||m===void 0&&s[v]!==!1)&&(s[v||f]=je(h))}const c=(h,f)=>y.forEach(h,(m,g)=>o(m,g,f));if(y.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(y.isString(e)&&(e=e.trim())&&!$o(e))c(Fo(e),t);else if(y.isHeaders(e))for(const[h,f]of e.entries())o(f,h,i);else e!=null&&o(t,e,i);return this}get(e,t){if(e=xe(e),e){const i=y.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return jo(s);if(y.isFunction(t))return t.call(this,s,i);if(y.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xe(e),e){const i=y.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Tt(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function o(c){if(c=xe(c),c){const h=y.findKey(i,c);h&&(!t||Tt(i,i[h],h,t))&&(delete i[h],s=!0)}}return y.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const o=t[i];(!e||Tt(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,i={};return y.forEach(this,(s,o)=>{const c=y.findKey(i,o);if(c){t[c]=je(s),delete t[o];return}const h=e?Uo(o):String(o).trim();h!==o&&delete t[o],t[h]=je(s),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return y.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&y.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[En]=this[En]={accessors:{}}).accessors,s=this.prototype;function o(c){const h=xe(c);i[h]||(Go(s,c),i[h]=!0)}return y.isArray(e)?e.forEach(o):o(e),this}}rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(rt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});y.freezeMethods(rt);const ne=rt;function _t(n,e){const t=this||Ft,i=e||t,s=ne.from(i.headers);let o=i.data;return y.forEach(n,function(h){o=h.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function hi(n){return!!(n&&n.__CANCEL__)}function _e(n,e,t){P.call(this,n??"canceled",P.ERR_CANCELED,e,t),this.name="CanceledError"}y.inherits(_e,P,{__CANCEL__:!0});function di(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new P("Request failed with status code "+t.status,[P.ERR_BAD_REQUEST,P.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function qo(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Xo(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,o=0,c;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),g=i[o];c||(c=m),t[s]=f,i[s]=m;let v=o,p=0;for(;v!==s;)p+=t[v++],v=v%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),m-c<e)return;const C=g&&m-g;return C?Math.round(p*1e3/C):void 0}}function Wo(n,e){let t=0;const i=1e3/e;let s=null;return function(){const c=this===!0,h=Date.now();if(c||h-t>i)return s&&(clearTimeout(s),s=null),t=h,n.apply(null,arguments);s||(s=setTimeout(()=>(s=null,t=Date.now(),n.apply(null,arguments)),i-(h-t)))}}const qe=(n,e,t=3)=>{let i=0;const s=Xo(50,250);return Wo(o=>{const c=o.loaded,h=o.lengthComputable?o.total:void 0,f=c-i,m=s(f),g=c<=h;i=c;const v={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:m||void 0,estimated:m&&h&&g?(h-c)/m:void 0,event:o,lengthComputable:h!=null};v[e?"download":"upload"]=!0,n(v)},t)},Yo=te.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function s(o){let c=o;return e&&(t.setAttribute("href",c),c=t.href),t.setAttribute("href",c),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=s(window.location.href),function(c){const h=y.isString(c)?s(c):c;return h.protocol===i.protocol&&h.host===i.host}}():function(){return function(){return!0}}(),Vo=te.hasStandardBrowserEnv?{write(n,e,t,i,s,o){const c=[n+"="+encodeURIComponent(e)];y.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),y.isString(i)&&c.push("path="+i),y.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jo(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ko(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function fi(n,e){return n&&!Jo(e)?Ko(n,e):e}const In=n=>n instanceof ne?{...n}:n;function ye(n,e){e=e||{};const t={};function i(m,g,v){return y.isPlainObject(m)&&y.isPlainObject(g)?y.merge.call({caseless:v},m,g):y.isPlainObject(g)?y.merge({},g):y.isArray(g)?g.slice():g}function s(m,g,v){if(y.isUndefined(g)){if(!y.isUndefined(m))return i(void 0,m,v)}else return i(m,g,v)}function o(m,g){if(!y.isUndefined(g))return i(void 0,g)}function c(m,g){if(y.isUndefined(g)){if(!y.isUndefined(m))return i(void 0,m)}else return i(void 0,g)}function h(m,g,v){if(v in e)return i(m,g);if(v in n)return i(void 0,m)}const f={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,g)=>s(In(m),In(g),!0)};return y.forEach(Object.keys(Object.assign({},n,e)),function(g){const v=f[g]||s,p=v(n[g],e[g],g);y.isUndefined(p)&&v!==h||(t[g]=p)}),t}const gi=n=>{const e=ye({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:c,auth:h}=e;e.headers=c=ne.from(c),e.url=li(fi(e.baseURL,e.url),n.params,n.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(y.isFormData(t)){if(te.hasStandardBrowserEnv||te.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[m,...g]=f?f.split(";").map(v=>v.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...g].join("; "))}}if(te.hasStandardBrowserEnv&&(i&&y.isFunction(i)&&(i=i(e)),i||i!==!1&&Yo(e.url))){const m=s&&o&&Vo.read(o);m&&c.set(s,m)}return e},Zo=typeof XMLHttpRequest<"u",Qo=Zo&&function(n){return new Promise(function(t,i){const s=gi(n);let o=s.data;const c=ne.from(s.headers).normalize();let{responseType:h}=s,f;function m(){s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function v(){if(!g)return;const C=ne.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),T={data:!h||h==="text"||h==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:C,config:n,request:g};di(function(_){t(_),m()},function(_){i(_),m()},T),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(i(new P("Request aborted",P.ECONNABORTED,s,g)),g=null)},g.onerror=function(){i(new P("Network Error",P.ERR_NETWORK,s,g)),g=null},g.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||ci;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),i(new P(b,T.clarifyTimeoutError?P.ETIMEDOUT:P.ECONNABORTED,s,g)),g=null},o===void 0&&c.setContentType(null),"setRequestHeader"in g&&y.forEach(c.toJSON(),function(b,T){g.setRequestHeader(T,b)}),y.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),h&&h!=="json"&&(g.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&g.addEventListener("progress",qe(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",qe(s.onUploadProgress)),(s.cancelToken||s.signal)&&(f=C=>{g&&(i(!C||C.type?new _e(null,n,g):C),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const p=qo(s.url);if(p&&te.protocols.indexOf(p)===-1){i(new P("Unsupported protocol "+p+":",P.ERR_BAD_REQUEST,n));return}g.send(o||null)})},ea=(n,e)=>{let t=new AbortController,i;const s=function(f){if(!i){i=!0,c();const m=f instanceof Error?f:this.reason;t.abort(m instanceof P?m:new _e(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{s(new P(`timeout ${e} of ms exceeded`,P.ETIMEDOUT))},e);const c=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(f=>{f&&(f.removeEventListener?f.removeEventListener("abort",s):f.unsubscribe(s))}),n=null)};n.forEach(f=>f&&f.addEventListener&&f.addEventListener("abort",s));const{signal:h}=t;return h.unsubscribe=c,[h,()=>{o&&clearTimeout(o),o=null}]},ta=ea,na=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},ia=async function*(n,e,t){for await(const i of n)yield*na(ArrayBuffer.isView(i)?i:await t(String(i)),e)},On=(n,e,t,i,s)=>{const o=ia(n,e,s);let c=0;return new ReadableStream({type:"bytes",async pull(h){const{done:f,value:m}=await o.next();if(f){h.close(),i();return}let g=m.byteLength;t&&t(c+=g),h.enqueue(new Uint8Array(m))},cancel(h){return i(h),o.return()}},{highWaterMark:2})},xn=(n,e)=>{const t=n!=null;return i=>setTimeout(()=>e({lengthComputable:t,total:n,loaded:i}))},ot=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pi=ot&&typeof ReadableStream=="function",At=ot&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),sa=pi&&(()=>{let n=!1;const e=new Request(te.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e})(),kn=64*1024,Rt=pi&&!!(()=>{try{return y.isReadableStream(new Response("").body)}catch{}})(),Xe={stream:Rt&&(n=>n.body)};ot&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xe[e]&&(Xe[e]=y.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new P(`Response type '${e}' is not supported`,P.ERR_NOT_SUPPORT,i)})})})(new Response);const ra=async n=>{if(n==null)return 0;if(y.isBlob(n))return n.size;if(y.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(y.isArrayBufferView(n))return n.byteLength;if(y.isURLSearchParams(n)&&(n=n+""),y.isString(n))return(await At(n)).byteLength},oa=async(n,e)=>{const t=y.toFiniteNumber(n.getContentLength());return t??ra(e)},aa=ot&&(async n=>{let{url:e,method:t,data:i,signal:s,cancelToken:o,timeout:c,onDownloadProgress:h,onUploadProgress:f,responseType:m,headers:g,withCredentials:v="same-origin",fetchOptions:p}=gi(n);m=m?(m+"").toLowerCase():"text";let[C,b]=s||o||c?ta([s,o],c):[],T,S;const _=()=>{!T&&setTimeout(()=>{C&&C.unsubscribe()}),T=!0};let I;try{if(f&&sa&&t!=="get"&&t!=="head"&&(I=await oa(g,i))!==0){let B=new Request(e,{method:"POST",body:i,duplex:"half"}),H;y.isFormData(i)&&(H=B.headers.get("content-type"))&&g.setContentType(H),B.body&&(i=On(B.body,kn,xn(I,qe(f)),null,At))}y.isString(v)||(v=v?"cors":"omit"),S=new Request(e,{...p,signal:C,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",withCredentials:v});let x=await fetch(S);const D=Rt&&(m==="stream"||m==="response");if(Rt&&(h||D)){const B={};["status","statusText","headers"].forEach(U=>{B[U]=x[U]});const H=y.toFiniteNumber(x.headers.get("content-length"));x=new Response(On(x.body,kn,h&&xn(H,qe(h,!0)),D&&_,At),B)}m=m||"text";let F=await Xe[y.findKey(Xe,m)||"text"](x,n);return!D&&_(),b&&b(),await new Promise((B,H)=>{di(B,H,{data:F,headers:ne.from(x.headers),status:x.status,statusText:x.statusText,config:n,request:S})})}catch(x){throw _(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new P("Network Error",P.ERR_NETWORK,n,S),{cause:x.cause||x}):P.from(x,x&&x.code,n,S)}}),Pt={http:Co,xhr:Qo,fetch:aa};y.forEach(Pt,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const An=n=>`- ${n}`,la=n=>y.isFunction(n)||n===null||n===!1,mi={getAdapter:n=>{n=y.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let o=0;o<e;o++){t=n[o];let c;if(i=t,!la(t)&&(i=Pt[(c=String(t)).toLowerCase()],i===void 0))throw new P(`Unknown adapter '${c}'`);if(i)break;s[c||"#"+o]=i}if(!i){const o=Object.entries(s).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(An).join(`
`):" "+An(o[0]):"as no adapter specified";throw new P("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Pt};function Et(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new _e(null,n)}function Rn(n){return Et(n),n.headers=ne.from(n.headers),n.data=_t.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),mi.getAdapter(n.adapter||Ft.adapter)(n).then(function(i){return Et(n),i.data=_t.call(n,n.transformResponse,i),i.headers=ne.from(i.headers),i},function(i){return hi(i)||(Et(n),i&&i.response&&(i.response.data=_t.call(n,n.transformResponse,i.response),i.response.headers=ne.from(i.response.headers))),Promise.reject(i)})}const vi="1.7.2",jt={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{jt[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Pn={};jt.transitional=function(e,t,i){function s(o,c){return"[Axios v"+vi+"] Transitional option '"+o+"'"+c+(i?". "+i:"")}return(o,c,h)=>{if(e===!1)throw new P(s(c," has been removed"+(t?" in "+t:"")),P.ERR_DEPRECATED);return t&&!Pn[c]&&(Pn[c]=!0,console.warn(s(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,c,h):!0}};function ca(n,e,t){if(typeof n!="object")throw new P("options must be an object",P.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const o=i[s],c=e[o];if(c){const h=n[o],f=h===void 0||c(h,o,n);if(f!==!0)throw new P("option "+o+" must be "+f,P.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new P("Unknown option "+o,P.ERR_BAD_OPTION)}}const Lt={assertOptions:ca,validators:jt},ue=Lt.validators;class We{constructor(e){this.defaults=e,this.interceptors={request:new _n,response:new _n}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ye(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:o}=t;i!==void 0&&Lt.assertOptions(i,{silentJSONParsing:ue.transitional(ue.boolean),forcedJSONParsing:ue.transitional(ue.boolean),clarifyTimeoutError:ue.transitional(ue.boolean)},!1),s!=null&&(y.isFunction(s)?t.paramsSerializer={serialize:s}:Lt.assertOptions(s,{encode:ue.function,serialize:ue.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=o&&y.merge(o.common,o[t.method]);o&&y.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),t.headers=ne.concat(c,o);const h=[];let f=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(f=f&&T.synchronous,h.unshift(T.fulfilled,T.rejected))});const m=[];this.interceptors.response.forEach(function(T){m.push(T.fulfilled,T.rejected)});let g,v=0,p;if(!f){const b=[Rn.bind(this),void 0];for(b.unshift.apply(b,h),b.push.apply(b,m),p=b.length,g=Promise.resolve(t);v<p;)g=g.then(b[v++],b[v++]);return g}p=h.length;let C=t;for(v=0;v<p;){const b=h[v++],T=h[v++];try{C=b(C)}catch(S){T.call(this,S);break}}try{g=Rn.call(this,C)}catch(b){return Promise.reject(b)}for(v=0,p=m.length;v<p;)g=g.then(m[v++],m[v++]);return g}getUri(e){e=ye(this.defaults,e);const t=fi(e.baseURL,e.url);return li(t,e.params,e.paramsSerializer)}}y.forEach(["delete","get","head","options"],function(e){We.prototype[e]=function(t,i){return this.request(ye(i||{},{method:e,url:t,data:(i||{}).data}))}});y.forEach(["post","put","patch"],function(e){function t(i){return function(o,c,h){return this.request(ye(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}We.prototype[e]=t(),We.prototype[e+"Form"]=t(!0)});const $e=We;class $t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const c=new Promise(h=>{i.subscribe(h),o=h}).then(s);return c.cancel=function(){i.unsubscribe(o)},c},e(function(o,c,h){i.reason||(i.reason=new _e(o,c,h),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new $t(function(s){e=s}),cancel:e}}}const ua=$t;function ha(n){return function(t){return n.apply(null,t)}}function da(n){return y.isObject(n)&&n.isAxiosError===!0}const Nt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nt).forEach(([n,e])=>{Nt[e]=n});const fa=Nt;function yi(n){const e=new $e(n),t=Jn($e.prototype.request,e);return y.extend(t,$e.prototype,e,{allOwnKeys:!0}),y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return yi(ye(n,s))},t}const $=yi(Ft);$.Axios=$e;$.CanceledError=_e;$.CancelToken=ua;$.isCancel=hi;$.VERSION=vi;$.toFormData=st;$.AxiosError=P;$.Cancel=$.CanceledError;$.all=function(e){return Promise.all(e)};$.spread=ha;$.isAxiosError=da;$.mergeConfig=ye;$.AxiosHeaders=ne;$.formToJSON=n=>ui(y.isHTMLForm(n)?new FormData(n):n);$.getAdapter=mi.getAdapter;$.HttpStatusCode=fa;$.default=$;const ga=$;function Ye(n){"@babel/helpers - typeof";return Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(n)}function X(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ln(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function W(n,e,t){return e&&Ln(n.prototype,e),t&&Ln(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Re(){return Re=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Re.apply(this,arguments)}function K(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&zt(n,e)}function Ve(n){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ve(n)}function zt(n,e){return zt=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},zt(n,e)}function pa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ma(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function va(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ma(n)}function Z(n){var e=pa();return function(){var i=Ve(n),s;if(e){var o=Ve(this).constructor;s=Reflect.construct(i,arguments,o)}else s=i.apply(this,arguments);return va(this,s)}}var Ut=function(){function n(){X(this,n)}return W(n,[{key:"listenForWhisper",value:function(t,i){return this.listen(".client-"+t,i)}},{key:"notification",value:function(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}},{key:"stopListeningForWhisper",value:function(t,i){return this.stopListening(".client-"+t,i)}}]),n}(),bi=function(){function n(e){X(this,n),this.namespace=e}return W(n,[{key:"format",value:function(t){return[".","\\"].includes(t.charAt(0))?t.substring(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(t){this.namespace=t}}]),n}(),at=function(n){K(t,n);var e=Z(t);function t(i,s,o){var c;return X(this,t),c=e.call(this),c.name=s,c.pusher=i,c.options=o,c.eventFormatter=new bi(c.options.namespace),c.subscribe(),c}return W(t,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(s,o){return this.on(this.eventFormatter.format(s),o),this}},{key:"listenToAll",value:function(s){var o=this;return this.subscription.bind_global(function(c,h){if(!c.startsWith("pusher:")){var f=o.options.namespace.replace(/\./g,"\\"),m=c.startsWith(f)?c.substring(f.length+1):"."+c;s(m,h)}}),this}},{key:"stopListening",value:function(s,o){return o?this.subscription.unbind(this.eventFormatter.format(s),o):this.subscription.unbind(this.eventFormatter.format(s)),this}},{key:"stopListeningToAll",value:function(s){return s?this.subscription.unbind_global(s):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(s){return this.on("pusher:subscription_succeeded",function(){s()}),this}},{key:"error",value:function(s){return this.on("pusher:subscription_error",function(o){s(o)}),this}},{key:"on",value:function(s,o){return this.subscription.bind(s,o),this}}]),t}(Ut),ya=function(n){K(t,n);var e=Z(t);function t(){return X(this,t),e.apply(this,arguments)}return W(t,[{key:"whisper",value:function(s,o){return this.pusher.channels.channels[this.name].trigger("client-".concat(s),o),this}}]),t}(at),ba=function(n){K(t,n);var e=Z(t);function t(){return X(this,t),e.apply(this,arguments)}return W(t,[{key:"whisper",value:function(s,o){return this.pusher.channels.channels[this.name].trigger("client-".concat(s),o),this}}]),t}(at),wa=function(n){K(t,n);var e=Z(t);function t(){return X(this,t),e.apply(this,arguments)}return W(t,[{key:"here",value:function(s){return this.on("pusher:subscription_succeeded",function(o){s(Object.keys(o.members).map(function(c){return o.members[c]}))}),this}},{key:"joining",value:function(s){return this.on("pusher:member_added",function(o){s(o.info)}),this}},{key:"whisper",value:function(s,o){return this.pusher.channels.channels[this.name].trigger("client-".concat(s),o),this}},{key:"leaving",value:function(s){return this.on("pusher:member_removed",function(o){s(o.info)}),this}}]),t}(at),wi=function(n){K(t,n);var e=Z(t);function t(i,s,o){var c;return X(this,t),c=e.call(this),c.events={},c.listeners={},c.name=s,c.socket=i,c.options=o,c.eventFormatter=new bi(c.options.namespace),c.subscribe(),c}return W(t,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(s,o){return this.on(this.eventFormatter.format(s),o),this}},{key:"stopListening",value:function(s,o){return this.unbindEvent(this.eventFormatter.format(s),o),this}},{key:"subscribed",value:function(s){return this.on("connect",function(o){s(o)}),this}},{key:"error",value:function(s){return this}},{key:"on",value:function(s,o){var c=this;return this.listeners[s]=this.listeners[s]||[],this.events[s]||(this.events[s]=function(h,f){c.name===h&&c.listeners[s]&&c.listeners[s].forEach(function(m){return m(f)})},this.socket.on(s,this.events[s])),this.listeners[s].push(o),this}},{key:"unbind",value:function(){var s=this;Object.keys(this.events).forEach(function(o){s.unbindEvent(o)})}},{key:"unbindEvent",value:function(s,o){this.listeners[s]=this.listeners[s]||[],o&&(this.listeners[s]=this.listeners[s].filter(function(c){return c!==o})),(!o||this.listeners[s].length===0)&&(this.events[s]&&(this.socket.removeListener(s,this.events[s]),delete this.events[s]),delete this.listeners[s])}}]),t}(Ut),Si=function(n){K(t,n);var e=Z(t);function t(){return X(this,t),e.apply(this,arguments)}return W(t,[{key:"whisper",value:function(s,o){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(s),data:o}),this}}]),t}(wi),Sa=function(n){K(t,n);var e=Z(t);function t(){return X(this,t),e.apply(this,arguments)}return W(t,[{key:"here",value:function(s){return this.on("presence:subscribed",function(o){s(o.map(function(c){return c.user_info}))}),this}},{key:"joining",value:function(s){return this.on("presence:joining",function(o){return s(o.user_info)}),this}},{key:"whisper",value:function(s,o){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(s),data:o}),this}},{key:"leaving",value:function(s){return this.on("presence:leaving",function(o){return s(o.user_info)}),this}}]),t}(Si),Je=function(n){K(t,n);var e=Z(t);function t(){return X(this,t),e.apply(this,arguments)}return W(t,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(s,o){return this}},{key:"listenToAll",value:function(s){return this}},{key:"stopListening",value:function(s,o){return this}},{key:"subscribed",value:function(s){return this}},{key:"error",value:function(s){return this}},{key:"on",value:function(s,o){return this}}]),t}(Ut),Nn=function(n){K(t,n);var e=Z(t);function t(){return X(this,t),e.apply(this,arguments)}return W(t,[{key:"whisper",value:function(s,o){return this}}]),t}(Je),Ca=function(n){K(t,n);var e=Z(t);function t(){return X(this,t),e.apply(this,arguments)}return W(t,[{key:"here",value:function(s){return this}},{key:"joining",value:function(s){return this}},{key:"whisper",value:function(s,o){return this}},{key:"leaving",value:function(s){return this}}]),t}(Je),Gt=function(){function n(e){X(this,n),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return W(n,[{key:"setOptions",value:function(t){this.options=Re(this._defaultOptions,t);var i=this.csrfToken();return i&&(this.options.auth.headers["X-CSRF-TOKEN"]=i,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=i),i=this.options.bearerToken,i&&(this.options.auth.headers.Authorization="Bearer "+i,this.options.userAuthentication.headers.Authorization="Bearer "+i),t}},{key:"csrfToken",value:function(){var t;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),n}(),zn=function(n){K(t,n);var e=Z(t);function t(){var i;return X(this,t),i=e.apply(this,arguments),i.channels={},i}return W(t,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(s,o,c){return this.channel(s).listen(o,c)}},{key:"channel",value:function(s){return this.channels[s]||(this.channels[s]=new at(this.pusher,s,this.options)),this.channels[s]}},{key:"privateChannel",value:function(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new ya(this.pusher,"private-"+s,this.options)),this.channels["private-"+s]}},{key:"encryptedPrivateChannel",value:function(s){return this.channels["private-encrypted-"+s]||(this.channels["private-encrypted-"+s]=new ba(this.pusher,"private-encrypted-"+s,this.options)),this.channels["private-encrypted-"+s]}},{key:"presenceChannel",value:function(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new wa(this.pusher,"presence-"+s,this.options)),this.channels["presence-"+s]}},{key:"leave",value:function(s){var o=this,c=[s,"private-"+s,"private-encrypted-"+s,"presence-"+s];c.forEach(function(h,f){o.leaveChannel(h)})}},{key:"leaveChannel",value:function(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),t}(Gt),Ta=function(n){K(t,n);var e=Z(t);function t(){var i;return X(this,t),i=e.apply(this,arguments),i.channels={},i}return W(t,[{key:"connect",value:function(){var s=this,o=this.getSocketIO();return this.socket=o(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(s.channels).forEach(function(c){c.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(s,o,c){return this.channel(s).listen(o,c)}},{key:"channel",value:function(s){return this.channels[s]||(this.channels[s]=new wi(this.socket,s,this.options)),this.channels[s]}},{key:"privateChannel",value:function(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new Si(this.socket,"private-"+s,this.options)),this.channels["private-"+s]}},{key:"presenceChannel",value:function(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new Sa(this.socket,"presence-"+s,this.options)),this.channels["presence-"+s]}},{key:"leave",value:function(s){var o=this,c=[s,"private-"+s,"presence-"+s];c.forEach(function(h){o.leaveChannel(h)})}},{key:"leaveChannel",value:function(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),t}(Gt),_a=function(n){K(t,n);var e=Z(t);function t(){var i;return X(this,t),i=e.apply(this,arguments),i.channels={},i}return W(t,[{key:"connect",value:function(){}},{key:"listen",value:function(s,o,c){return new Je}},{key:"channel",value:function(s){return new Je}},{key:"privateChannel",value:function(s){return new Nn}},{key:"encryptedPrivateChannel",value:function(s){return new Nn}},{key:"presenceChannel",value:function(s){return new Ca}},{key:"leave",value:function(s){}},{key:"leaveChannel",value:function(s){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),t}(Gt),Ea=function(){function n(e){X(this,n),this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return W(n,[{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"connect",value:function(){if(this.options.broadcaster=="reverb")this.connector=new zn(Re(Re({},this.options),{cluster:""}));else if(this.options.broadcaster=="pusher")this.connector=new zn(this.options);else if(this.options.broadcaster=="socket.io")this.connector=new Ta(this.options);else if(this.options.broadcaster=="null")this.connector=new _a(this.options);else if(typeof this.options.broadcaster=="function")this.connector=new this.options.broadcaster(this.options);else throw new Error("Broadcaster ".concat(Ye(this.options.broadcaster)," ").concat(this.options.broadcaster," is not supported."))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"leaveChannel",value:function(t){this.connector.leaveChannel(t)}},{key:"leaveAllChannels",value:function(){for(var t in this.connector.channels)this.leaveChannel(t)}},{key:"listen",value:function(t,i,s){return this.connector.listen(t,i,s)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"encryptedPrivate",value:function(t){return this.connector.encryptedPrivateChannel(t)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":Ye(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push(function(i,s){t.socketId()&&i.headers.set("X-Socket-ID",t.socketId()),s()})}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use(function(i){return t.socketId()&&(i.headers["X-Socket-Id"]=t.socketId()),i})}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(i,s,o){t.socketId()&&o.setRequestHeader("X-Socket-Id",t.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var t=this;document.addEventListener("turbo:before-fetch-request",function(i){i.detail.fetchOptions.headers["X-Socket-Id"]=t.socketId()})}}]),n}();function Ia(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ci={exports:{}};/*!
 * Pusher JavaScript Library v8.3.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(n,e){(function(i,s){n.exports=s()})(window,function(){return function(t){var i={};function s(o){if(i[o])return i[o].exports;var c=i[o]={i:o,l:!1,exports:{}};return t[o].call(c.exports,c,c.exports,s),c.l=!0,c.exports}return s.m=t,s.c=i,s.d=function(o,c,h){s.o(o,c)||Object.defineProperty(o,c,{enumerable:!0,get:h})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,c){if(c&1&&(o=s(o)),c&8||c&4&&typeof o=="object"&&o&&o.__esModule)return o;var h=Object.create(null);if(s.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:o}),c&2&&typeof o!="string")for(var f in o)s.d(h,f,(function(m){return o[m]}).bind(null,f));return h},s.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(c,"a",c),c},s.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},s.p="",s(s.s=2)}([function(t,i,s){var o=this&&this.__extends||function(){var T=function(S,_){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,x){I.__proto__=x}||function(I,x){for(var D in x)x.hasOwnProperty(D)&&(I[D]=x[D])},T(S,_)};return function(S,_){T(S,_);function I(){this.constructor=S}S.prototype=_===null?Object.create(_):(I.prototype=_.prototype,new I)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=256,h=function(){function T(S){S===void 0&&(S="="),this._paddingCharacter=S}return T.prototype.encodedLength=function(S){return this._paddingCharacter?(S+2)/3*4|0:(S*8+5)/6|0},T.prototype.encode=function(S){for(var _="",I=0;I<S.length-2;I+=3){var x=S[I]<<16|S[I+1]<<8|S[I+2];_+=this._encodeByte(x>>>3*6&63),_+=this._encodeByte(x>>>2*6&63),_+=this._encodeByte(x>>>1*6&63),_+=this._encodeByte(x>>>0*6&63)}var D=S.length-I;if(D>0){var x=S[I]<<16|(D===2?S[I+1]<<8:0);_+=this._encodeByte(x>>>3*6&63),_+=this._encodeByte(x>>>2*6&63),D===2?_+=this._encodeByte(x>>>1*6&63):_+=this._paddingCharacter||"",_+=this._paddingCharacter||""}return _},T.prototype.maxDecodedLength=function(S){return this._paddingCharacter?S/4*3|0:(S*6+7)/8|0},T.prototype.decodedLength=function(S){return this.maxDecodedLength(S.length-this._getPaddingLength(S))},T.prototype.decode=function(S){if(S.length===0)return new Uint8Array(0);for(var _=this._getPaddingLength(S),I=S.length-_,x=new Uint8Array(this.maxDecodedLength(I)),D=0,F=0,B=0,H=0,U=0,ee=0,se=0;F<I-4;F+=4)H=this._decodeChar(S.charCodeAt(F+0)),U=this._decodeChar(S.charCodeAt(F+1)),ee=this._decodeChar(S.charCodeAt(F+2)),se=this._decodeChar(S.charCodeAt(F+3)),x[D++]=H<<2|U>>>4,x[D++]=U<<4|ee>>>2,x[D++]=ee<<6|se,B|=H&c,B|=U&c,B|=ee&c,B|=se&c;if(F<I-1&&(H=this._decodeChar(S.charCodeAt(F)),U=this._decodeChar(S.charCodeAt(F+1)),x[D++]=H<<2|U>>>4,B|=H&c,B|=U&c),F<I-2&&(ee=this._decodeChar(S.charCodeAt(F+2)),x[D++]=U<<4|ee>>>2,B|=ee&c),F<I-3&&(se=this._decodeChar(S.charCodeAt(F+3)),x[D++]=ee<<6|se,B|=se&c),B!==0)throw new Error("Base64Coder: incorrect characters for decoding");return x},T.prototype._encodeByte=function(S){var _=S;return _+=65,_+=25-S>>>8&0-65-26+97,_+=51-S>>>8&26-97-52+48,_+=61-S>>>8&52-48-62+43,_+=62-S>>>8&62-43-63+47,String.fromCharCode(_)},T.prototype._decodeChar=function(S){var _=c;return _+=(42-S&S-44)>>>8&-c+S-43+62,_+=(46-S&S-48)>>>8&-c+S-47+63,_+=(47-S&S-58)>>>8&-c+S-48+52,_+=(64-S&S-91)>>>8&-c+S-65+0,_+=(96-S&S-123)>>>8&-c+S-97+26,_},T.prototype._getPaddingLength=function(S){var _=0;if(this._paddingCharacter){for(var I=S.length-1;I>=0&&S[I]===this._paddingCharacter;I--)_++;if(S.length<4||_>2)throw new Error("Base64Coder: incorrect padding")}return _},T}();i.Coder=h;var f=new h;function m(T){return f.encode(T)}i.encode=m;function g(T){return f.decode(T)}i.decode=g;var v=function(T){o(S,T);function S(){return T!==null&&T.apply(this,arguments)||this}return S.prototype._encodeByte=function(_){var I=_;return I+=65,I+=25-_>>>8&0-65-26+97,I+=51-_>>>8&26-97-52+48,I+=61-_>>>8&52-48-62+45,I+=62-_>>>8&62-45-63+95,String.fromCharCode(I)},S.prototype._decodeChar=function(_){var I=c;return I+=(44-_&_-46)>>>8&-c+_-45+62,I+=(94-_&_-96)>>>8&-c+_-95+63,I+=(47-_&_-58)>>>8&-c+_-48+52,I+=(64-_&_-91)>>>8&-c+_-65+0,I+=(96-_&_-123)>>>8&-c+_-97+26,I},S}(h);i.URLSafeCoder=v;var p=new v;function C(T){return p.encode(T)}i.encodeURLSafe=C;function b(T){return p.decode(T)}i.decodeURLSafe=b,i.encodedLength=function(T){return f.encodedLength(T)},i.maxDecodedLength=function(T){return f.maxDecodedLength(T)},i.decodedLength=function(T){return f.decodedLength(T)}},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o="utf8: invalid string",c="utf8: invalid source encoding";function h(g){for(var v=new Uint8Array(f(g)),p=0,C=0;C<g.length;C++){var b=g.charCodeAt(C);b<128?v[p++]=b:b<2048?(v[p++]=192|b>>6,v[p++]=128|b&63):b<55296?(v[p++]=224|b>>12,v[p++]=128|b>>6&63,v[p++]=128|b&63):(C++,b=(b&1023)<<10,b|=g.charCodeAt(C)&1023,b+=65536,v[p++]=240|b>>18,v[p++]=128|b>>12&63,v[p++]=128|b>>6&63,v[p++]=128|b&63)}return v}i.encode=h;function f(g){for(var v=0,p=0;p<g.length;p++){var C=g.charCodeAt(p);if(C<128)v+=1;else if(C<2048)v+=2;else if(C<55296)v+=3;else if(C<=57343){if(p>=g.length-1)throw new Error(o);p++,v+=4}else throw new Error(o)}return v}i.encodedLength=f;function m(g){for(var v=[],p=0;p<g.length;p++){var C=g[p];if(C&128){var b=void 0;if(C<224){if(p>=g.length)throw new Error(c);var T=g[++p];if((T&192)!==128)throw new Error(c);C=(C&31)<<6|T&63,b=128}else if(C<240){if(p>=g.length-1)throw new Error(c);var T=g[++p],S=g[++p];if((T&192)!==128||(S&192)!==128)throw new Error(c);C=(C&15)<<12|(T&63)<<6|S&63,b=2048}else if(C<248){if(p>=g.length-2)throw new Error(c);var T=g[++p],S=g[++p],_=g[++p];if((T&192)!==128||(S&192)!==128||(_&192)!==128)throw new Error(c);C=(C&15)<<18|(T&63)<<12|(S&63)<<6|_&63,b=65536}else throw new Error(c);if(C<b||C>=55296&&C<=57343)throw new Error(c);if(C>=65536){if(C>1114111)throw new Error(c);C-=65536,v.push(String.fromCharCode(55296|C>>10)),C=56320|C&1023}}v.push(String.fromCharCode(C))}return v.join("")}i.decode=m},function(t,i,s){t.exports=s(3).default},function(t,i,s){s.r(i);class o{constructor(r,a){this.lastId=0,this.prefix=r,this.name=a}create(r){this.lastId++;var a=this.lastId,u=this.prefix+a,d=this.name+"["+a+"]",w=!1,E=function(){w||(r.apply(null,arguments),w=!0)};return this[a]=E,{number:a,id:u,name:d,callback:E}}remove(r){delete this[r.number]}}var c=new o("_pusher_script_","Pusher.ScriptReceivers"),h={VERSION:"8.3.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},f=h;class m{constructor(r){this.options=r,this.receivers=r.receivers||c,this.loading={}}load(r,a,u){var d=this;if(d.loading[r]&&d.loading[r].length>0)d.loading[r].push(u);else{d.loading[r]=[u];var w=R.createScriptRequest(d.getPath(r,a)),E=d.receivers.create(function(O){if(d.receivers.remove(E),d.loading[r]){var A=d.loading[r];delete d.loading[r];for(var L=function(j){j||w.cleanup()},N=0;N<A.length;N++)A[N](O,L)}});w.send(E)}}getRoot(r){var a,u=R.getDocument().location.protocol;return r&&r.useTLS||u==="https:"?a=this.options.cdn_https:a=this.options.cdn_http,a.replace(/\/*$/,"")+"/"+this.options.version}getPath(r,a){return this.getRoot(a)+"/"+r+this.options.suffix+".js"}}var g=new o("_pusher_dependencies","Pusher.DependenciesReceivers"),v=new m({cdn_http:f.cdn_http,cdn_https:f.cdn_https,version:f.VERSION,suffix:f.dependency_suffix,receivers:g});const p={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var b={buildLogSuffix:function(l){const r="See:",a=p.urls[l];if(!a)return"";let u;return a.fullUrl?u=a.fullUrl:a.path&&(u=p.baseUrl+a.path),u?`${r} ${u}`:""}},T;(function(l){l.UserAuthentication="user-authentication",l.ChannelAuthorization="channel-authorization"})(T||(T={}));class S extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class I extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class D extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class B extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class H extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class U extends Error{constructor(r,a){super(a),this.status=r,Object.setPrototypeOf(this,new.target.prototype)}}var se=function(l,r,a,u,d){const w=R.createXHR();w.open("POST",a.endpoint,!0),w.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var E in a.headers)w.setRequestHeader(E,a.headers[E]);if(a.headersProvider!=null){let O=a.headersProvider();for(var E in O)w.setRequestHeader(E,O[E])}return w.onreadystatechange=function(){if(w.readyState===4)if(w.status===200){let O,A=!1;try{O=JSON.parse(w.responseText),A=!0}catch{d(new U(200,`JSON returned from ${u.toString()} endpoint was invalid, yet status code was 200. Data was: ${w.responseText}`),null)}A&&d(null,O)}else{let O="";switch(u){case T.UserAuthentication:O=b.buildLogSuffix("authenticationEndpoint");break;case T.ChannelAuthorization:O=`Clients must be authorized to join private or presence channels. ${b.buildLogSuffix("authorizationEndpoint")}`;break}d(new U(w.status,`Unable to retrieve auth string from ${u.toString()} endpoint - received status: ${w.status} from ${a.endpoint}. ${O}`),null)}},w.send(r),w};function fe(l){return Ai(xi(l))}var ce=String.fromCharCode,we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lt=function(l){var r=l.charCodeAt(0);return r<128?l:r<2048?ce(192|r>>>6)+ce(128|r&63):ce(224|r>>>12&15)+ce(128|r>>>6&63)+ce(128|r&63)},xi=function(l){return l.replace(/[^\x00-\x7F]/g,lt)},ki=function(l){var r=[0,2,1][l.length%3],a=l.charCodeAt(0)<<16|(l.length>1?l.charCodeAt(1):0)<<8|(l.length>2?l.charCodeAt(2):0),u=[we.charAt(a>>>18),we.charAt(a>>>12&63),r>=2?"=":we.charAt(a>>>6&63),r>=1?"=":we.charAt(a&63)];return u.join("")},Ai=window.btoa||function(l){return l.replace(/[\s\S]{1,3}/g,ki)};class Ri{constructor(r,a,u,d){this.clear=a,this.timer=r(()=>{this.timer&&(this.timer=d(this.timer))},u)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Xt=Ri;function Pi(l){window.clearTimeout(l)}function Li(l){window.clearInterval(l)}class ge extends Xt{constructor(r,a){super(setTimeout,Pi,r,function(u){return a(),null})}}class Ni extends Xt{constructor(r,a){super(setInterval,Li,r,function(u){return a(),u})}}var zi={now(){return Date.now?Date.now():new Date().valueOf()},defer(l){return new ge(0,l)},method(l,...r){var a=Array.prototype.slice.call(arguments,1);return function(u){return u[l].apply(u,a.concat(arguments))}}},Y=zi;function V(l,...r){for(var a=0;a<r.length;a++){var u=r[a];for(var d in u)u[d]&&u[d].constructor&&u[d].constructor===Object?l[d]=V(l[d]||{},u[d]):l[d]=u[d]}return l}function Di(){for(var l=["Pusher"],r=0;r<arguments.length;r++)typeof arguments[r]=="string"?l.push(arguments[r]):l.push(ze(arguments[r]));return l.join(" : ")}function Wt(l,r){var a=Array.prototype.indexOf;if(l===null)return-1;if(a&&l.indexOf===a)return l.indexOf(r);for(var u=0,d=l.length;u<d;u++)if(l[u]===r)return u;return-1}function re(l,r){for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&r(l[a],a,l)}function Yt(l){var r=[];return re(l,function(a,u){r.push(u)}),r}function Mi(l){var r=[];return re(l,function(a){r.push(a)}),r}function Ee(l,r,a){for(var u=0;u<l.length;u++)r.call(a||window,l[u],u,l)}function Vt(l,r){for(var a=[],u=0;u<l.length;u++)a.push(r(l[u],u,l,a));return a}function Bi(l,r){var a={};return re(l,function(u,d){a[d]=r(u)}),a}function Jt(l,r){r=r||function(d){return!!d};for(var a=[],u=0;u<l.length;u++)r(l[u],u,l,a)&&a.push(l[u]);return a}function Kt(l,r){var a={};return re(l,function(u,d){(r&&r(u,d,l,a)||u)&&(a[d]=u)}),a}function Hi(l){var r=[];return re(l,function(a,u){r.push([u,a])}),r}function Zt(l,r){for(var a=0;a<l.length;a++)if(r(l[a],a,l))return!0;return!1}function Fi(l,r){for(var a=0;a<l.length;a++)if(!r(l[a],a,l))return!1;return!0}function ji(l){return Bi(l,function(r){return typeof r=="object"&&(r=ze(r)),encodeURIComponent(fe(r.toString()))})}function $i(l){var r=Kt(l,function(u){return u!==void 0}),a=Vt(Hi(ji(r)),Y.method("join","=")).join("&");return a}function Ui(l){var r=[],a=[];return function u(d,w){var E,O,A;switch(typeof d){case"object":if(!d)return null;for(E=0;E<r.length;E+=1)if(r[E]===d)return{$ref:a[E]};if(r.push(d),a.push(w),Object.prototype.toString.apply(d)==="[object Array]")for(A=[],E=0;E<d.length;E+=1)A[E]=u(d[E],w+"["+E+"]");else{A={};for(O in d)Object.prototype.hasOwnProperty.call(d,O)&&(A[O]=u(d[O],w+"["+JSON.stringify(O)+"]"))}return A;case"number":case"string":case"boolean":return d}}(l,"$")}function ze(l){try{return JSON.stringify(l)}catch{return JSON.stringify(Ui(l))}}class Gi{constructor(){this.globalLog=r=>{window.console&&window.console.log&&window.console.log(r)}}debug(...r){this.log(this.globalLog,r)}warn(...r){this.log(this.globalLogWarn,r)}error(...r){this.log(this.globalLogError,r)}globalLogWarn(r){window.console&&window.console.warn?window.console.warn(r):this.globalLog(r)}globalLogError(r){window.console&&window.console.error?window.console.error(r):this.globalLogWarn(r)}log(r,...a){var u=Di.apply(this,arguments);bt.log?bt.log(u):bt.logToConsole&&r.bind(this)(u)}}var M=new Gi,qi=function(l,r,a,u,d){(a.headers!==void 0||a.headersProvider!=null)&&M.warn(`To send headers with the ${u.toString()} request, you must use AJAX, rather than JSONP.`);var w=l.nextAuthCallbackID.toString();l.nextAuthCallbackID++;var E=l.getDocument(),O=E.createElement("script");l.auth_callbacks[w]=function(N){d(null,N)};var A="Pusher.auth_callbacks['"+w+"']";O.src=a.endpoint+"?callback="+encodeURIComponent(A)+"&"+r;var L=E.getElementsByTagName("head")[0]||E.documentElement;L.insertBefore(O,L.firstChild)},Xi=qi;class Wi{constructor(r){this.src=r}send(r){var a=this,u="Error loading "+a.src;a.script=document.createElement("script"),a.script.id=r.id,a.script.src=a.src,a.script.type="text/javascript",a.script.charset="UTF-8",a.script.addEventListener?(a.script.onerror=function(){r.callback(u)},a.script.onload=function(){r.callback(null)}):a.script.onreadystatechange=function(){(a.script.readyState==="loaded"||a.script.readyState==="complete")&&r.callback(null)},a.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(a.errorScript=document.createElement("script"),a.errorScript.id=r.id+"_error",a.errorScript.text=r.name+"('"+u+"');",a.script.async=a.errorScript.async=!1):a.script.async=!0;var d=document.getElementsByTagName("head")[0];d.insertBefore(a.script,d.firstChild),a.errorScript&&d.insertBefore(a.errorScript,a.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Yi{constructor(r,a){this.url=r,this.data=a}send(r){if(!this.request){var a=$i(this.data),u=this.url+"/"+r.number+"?"+a;this.request=R.createScriptRequest(u),this.request.send(r)}}cleanup(){this.request&&this.request.cleanup()}}var Vi=function(l,r){return function(a,u){var d="http"+(r?"s":"")+"://",w=d+(l.host||l.options.host)+l.options.path,E=R.createJSONPRequest(w,a),O=R.ScriptReceivers.create(function(A,L){c.remove(O),E.cleanup(),L&&L.host&&(l.host=L.host),u&&u(A,L)});E.send(O)}},Ji={name:"jsonp",getAgent:Vi},Ki=Ji;function ct(l,r,a){var u=l+(r.useTLS?"s":""),d=r.useTLS?r.hostTLS:r.hostNonTLS;return u+"://"+d+a}function ut(l,r){var a="/app/"+l,u="?protocol="+f.PROTOCOL+"&client=js&version="+f.VERSION+(r?"&"+r:"");return a+u}var Zi={getInitial:function(l,r){var a=(r.httpPath||"")+ut(l,"flash=false");return ct("ws",r,a)}},Qi={getInitial:function(l,r){var a=(r.httpPath||"/pusher")+ut(l);return ct("http",r,a)}},es={getInitial:function(l,r){return ct("http",r,r.httpPath||"/pusher")},getPath:function(l,r){return ut(l)}};class ts{constructor(){this._callbacks={}}get(r){return this._callbacks[ht(r)]}add(r,a,u){var d=ht(r);this._callbacks[d]=this._callbacks[d]||[],this._callbacks[d].push({fn:a,context:u})}remove(r,a,u){if(!r&&!a&&!u){this._callbacks={};return}var d=r?[ht(r)]:Yt(this._callbacks);a||u?this.removeCallback(d,a,u):this.removeAllCallbacks(d)}removeCallback(r,a,u){Ee(r,function(d){this._callbacks[d]=Jt(this._callbacks[d]||[],function(w){return a&&a!==w.fn||u&&u!==w.context}),this._callbacks[d].length===0&&delete this._callbacks[d]},this)}removeAllCallbacks(r){Ee(r,function(a){delete this._callbacks[a]},this)}}function ht(l){return"_"+l}class oe{constructor(r){this.callbacks=new ts,this.global_callbacks=[],this.failThrough=r}bind(r,a,u){return this.callbacks.add(r,a,u),this}bind_global(r){return this.global_callbacks.push(r),this}unbind(r,a,u){return this.callbacks.remove(r,a,u),this}unbind_global(r){return r?(this.global_callbacks=Jt(this.global_callbacks||[],a=>a!==r),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(r,a,u){for(var d=0;d<this.global_callbacks.length;d++)this.global_callbacks[d](r,a);var w=this.callbacks.get(r),E=[];if(u?E.push(a,u):a&&E.push(a),w&&w.length>0)for(var d=0;d<w.length;d++)w[d].fn.apply(w[d].context||window,E);else this.failThrough&&this.failThrough(r,a);return this}}class ns extends oe{constructor(r,a,u,d,w){super(),this.initialize=R.transportConnectionInitializer,this.hooks=r,this.name=a,this.priority=u,this.key=d,this.options=w,this.state="new",this.timeline=w.timeline,this.activityTimeout=w.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var r=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(r,this.options)}catch(a){return Y.defer(()=>{this.onError(a),this.changeState("closed")}),!1}return this.bindListeners(),M.debug("Connecting",{transport:this.name,url:r}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(r){return this.state==="open"?(Y.defer(()=>{this.socket&&this.socket.send(r)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(r){this.emit("error",{type:"WebSocketError",error:r}),this.timeline.error(this.buildTimelineMessage({error:r.toString()}))}onClose(r){r?this.changeState("closed",{code:r.code,reason:r.reason,wasClean:r.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(r){this.emit("message",r)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=r=>{this.onError(r)},this.socket.onclose=r=>{this.onClose(r)},this.socket.onmessage=r=>{this.onMessage(r)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(r,a){this.state=r,this.timeline.info(this.buildTimelineMessage({state:r,params:a})),this.emit(r,a)}buildTimelineMessage(r){return V({cid:this.id},r)}}class Se{constructor(r){this.hooks=r}isSupported(r){return this.hooks.isSupported(r)}createConnection(r,a,u,d){return new ns(this.hooks,r,a,u,d)}}var is=new Se({urls:Zi,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!R.getWebSocketAPI()},isSupported:function(){return!!R.getWebSocketAPI()},getSocket:function(l){return R.createWebSocket(l)}}),Qt={urls:Qi,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},en=V({getSocket:function(l){return R.HTTPFactory.createStreamingSocket(l)}},Qt),tn=V({getSocket:function(l){return R.HTTPFactory.createPollingSocket(l)}},Qt),nn={isSupported:function(){return R.isXHRSupported()}},ss=new Se(V({},en,nn)),rs=new Se(V({},tn,nn)),os={ws:is,xhr_streaming:ss,xhr_polling:rs},De=os,as=new Se({file:"sockjs",urls:es,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(l,r){return new window.SockJS(l,null,{js_path:v.getPath("sockjs",{useTLS:r.useTLS}),ignore_null_origin:r.ignoreNullOrigin})},beforeOpen:function(l,r){l.send(JSON.stringify({path:r}))}}),sn={isSupported:function(l){var r=R.isXDRSupported(l.useTLS);return r}},ls=new Se(V({},en,sn)),cs=new Se(V({},tn,sn));De.xdr_streaming=ls,De.xdr_polling=cs,De.sockjs=as;var us=De;class hs extends oe{constructor(){super();var r=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){r.emit("online")},!1),window.addEventListener("offline",function(){r.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var ds=new hs;class fs{constructor(r,a,u){this.manager=r,this.transport=a,this.minPingDelay=u.minPingDelay,this.maxPingDelay=u.maxPingDelay,this.pingDelay=void 0}createConnection(r,a,u,d){d=V({},d,{activityTimeout:this.pingDelay});var w=this.transport.createConnection(r,a,u,d),E=null,O=function(){w.unbind("open",O),w.bind("closed",A),E=Y.now()},A=L=>{if(w.unbind("closed",A),L.code===1002||L.code===1003)this.manager.reportDeath();else if(!L.wasClean&&E){var N=Y.now()-E;N<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(N/2,this.minPingDelay))}};return w.bind("open",O),w}isSupported(r){return this.manager.isAlive()&&this.transport.isSupported(r)}}const rn={decodeMessage:function(l){try{var r=JSON.parse(l.data),a=r.data;if(typeof a=="string")try{a=JSON.parse(r.data)}catch{}var u={event:r.event,channel:r.channel,data:a};return r.user_id&&(u.user_id=r.user_id),u}catch(d){throw{type:"MessageParseError",error:d,data:l.data}}},encodeMessage:function(l){return JSON.stringify(l)},processHandshake:function(l){var r=rn.decodeMessage(l);if(r.event==="pusher:connection_established"){if(!r.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:r.data.socket_id,activityTimeout:r.data.activity_timeout*1e3}}else{if(r.event==="pusher:error")return{action:this.getCloseAction(r.data),error:this.getCloseError(r.data)};throw"Invalid handshake"}},getCloseAction:function(l){return l.code<4e3?l.code>=1002&&l.code<=1004?"backoff":null:l.code===4e3?"tls_only":l.code<4100?"refused":l.code<4200?"backoff":l.code<4300?"retry":"refused"},getCloseError:function(l){return l.code!==1e3&&l.code!==1001?{type:"PusherError",data:{code:l.code,message:l.reason||l.message}}:null}};var pe=rn;class gs extends oe{constructor(r,a){super(),this.id=r,this.transport=a,this.activityTimeout=a.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(r){return this.transport.send(r)}send_event(r,a,u){var d={event:r,data:a};return u&&(d.channel=u),M.debug("Event sent",d),this.send(pe.encodeMessage(d))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var r={message:u=>{var d;try{d=pe.decodeMessage(u)}catch(w){this.emit("error",{type:"MessageParseError",error:w,data:u.data})}if(d!==void 0){switch(M.debug("Event recd",d),d.event){case"pusher:error":this.emit("error",{type:"PusherError",data:d.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",d)}},activity:()=>{this.emit("activity")},error:u=>{this.emit("error",u)},closed:u=>{a(),u&&u.code&&this.handleCloseEvent(u),this.transport=null,this.emit("closed")}},a=()=>{re(r,(u,d)=>{this.transport.unbind(d,u)})};re(r,(u,d)=>{this.transport.bind(d,u)})}handleCloseEvent(r){var a=pe.getCloseAction(r),u=pe.getCloseError(r);u&&this.emit("error",u),a&&this.emit(a,{action:a,error:u})}}class ps{constructor(r,a){this.transport=r,this.callback=a,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=r=>{this.unbindListeners();var a;try{a=pe.processHandshake(r)}catch(u){this.finish("error",{error:u}),this.transport.close();return}a.action==="connected"?this.finish("connected",{connection:new gs(a.id,this.transport),activityTimeout:a.activityTimeout}):(this.finish(a.action,{error:a.error}),this.transport.close())},this.onClosed=r=>{this.unbindListeners();var a=pe.getCloseAction(r)||"backoff",u=pe.getCloseError(r);this.finish(a,{error:u})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(r,a){this.callback(V({transport:this.transport,action:r},a))}}class ms{constructor(r,a){this.timeline=r,this.options=a||{}}send(r,a){this.timeline.isEmpty()||this.timeline.send(R.TimelineTransport.getAgent(this,r),a)}}class dt extends oe{constructor(r,a){super(function(u,d){M.debug("No callbacks on "+r+" for "+u)}),this.name=r,this.pusher=a,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(r,a){return a(null,{auth:""})}trigger(r,a){if(r.indexOf("client-")!==0)throw new S("Event '"+r+"' does not start with 'client-'");if(!this.subscribed){var u=b.buildLogSuffix("triggeringClientEvents");M.warn(`Client event triggered before channel 'subscription_succeeded' event . ${u}`)}return this.pusher.send_event(r,a,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(r){var a=r.event,u=r.data;if(a==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(r);else if(a==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(r);else if(a.indexOf("pusher_internal:")!==0){var d={};this.emit(a,u,d)}}handleSubscriptionSucceededEvent(r){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",r.data)}handleSubscriptionCountEvent(r){r.data.subscription_count&&(this.subscriptionCount=r.data.subscription_count),this.emit("pusher:subscription_count",r.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(r,a)=>{r?(this.subscriptionPending=!1,M.error(r.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:r.message},r instanceof U?{status:r.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:a.auth,channel_data:a.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class ft extends dt{authorize(r,a){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:r},a)}}class vs{constructor(){this.reset()}get(r){return Object.prototype.hasOwnProperty.call(this.members,r)?{id:r,info:this.members[r]}:null}each(r){re(this.members,(a,u)=>{r(this.get(u))})}setMyID(r){this.myID=r}onSubscription(r){this.members=r.presence.hash,this.count=r.presence.count,this.me=this.get(this.myID)}addMember(r){return this.get(r.user_id)===null&&this.count++,this.members[r.user_id]=r.user_info,this.get(r.user_id)}removeMember(r){var a=this.get(r.user_id);return a&&(delete this.members[r.user_id],this.count--),a}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var ys=function(l,r,a,u){function d(w){return w instanceof a?w:new a(function(E){E(w)})}return new(a||(a=Promise))(function(w,E){function O(N){try{L(u.next(N))}catch(j){E(j)}}function A(N){try{L(u.throw(N))}catch(j){E(j)}}function L(N){N.done?w(N.value):d(N.value).then(O,A)}L((u=u.apply(l,r||[])).next())})};class bs extends ft{constructor(r,a){super(r,a),this.members=new vs}authorize(r,a){super.authorize(r,(u,d)=>ys(this,void 0,void 0,function*(){if(!u)if(d=d,d.channel_data!=null){var w=JSON.parse(d.channel_data);this.members.setMyID(w.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let E=b.buildLogSuffix("authorizationEndpoint");M.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${E}, or the user should be signed in.`),a("Invalid auth response");return}a(u,d)}))}handleEvent(r){var a=r.event;if(a.indexOf("pusher_internal:")===0)this.handleInternalEvent(r);else{var u=r.data,d={};r.user_id&&(d.user_id=r.user_id),this.emit(a,u,d)}}handleInternalEvent(r){var a=r.event,u=r.data;switch(a){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(r);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(r);break;case"pusher_internal:member_added":var d=this.members.addMember(u);this.emit("pusher:member_added",d);break;case"pusher_internal:member_removed":var w=this.members.removeMember(u);w&&this.emit("pusher:member_removed",w);break}}handleSubscriptionSucceededEvent(r){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(r.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var ws=s(1),gt=s(0);class Ss extends ft{constructor(r,a,u){super(r,a),this.key=null,this.nacl=u}authorize(r,a){super.authorize(r,(u,d)=>{if(u){a(u,d);return}let w=d.shared_secret;if(!w){a(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(gt.decode)(w),delete d.shared_secret,a(null,d)})}trigger(r,a){throw new F("Client events are not currently supported for encrypted channels")}handleEvent(r){var a=r.event,u=r.data;if(a.indexOf("pusher_internal:")===0||a.indexOf("pusher:")===0){super.handleEvent(r);return}this.handleEncryptedEvent(a,u)}handleEncryptedEvent(r,a){if(!this.key){M.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!a.ciphertext||!a.nonce){M.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+a);return}let u=Object(gt.decode)(a.ciphertext);if(u.length<this.nacl.secretbox.overheadLength){M.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${u.length}`);return}let d=Object(gt.decode)(a.nonce);if(d.length<this.nacl.secretbox.nonceLength){M.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${d.length}`);return}let w=this.nacl.secretbox.open(u,d,this.key);if(w===null){M.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(E,O)=>{if(E){M.error(`Failed to make a request to the authEndpoint: ${O}. Unable to fetch new key, so dropping encrypted event`);return}if(w=this.nacl.secretbox.open(u,d,this.key),w===null){M.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(r,this.getDataToEmit(w))});return}this.emit(r,this.getDataToEmit(w))}getDataToEmit(r){let a=Object(ws.decode)(r);try{return JSON.parse(a)}catch{return a}}}class Cs extends oe{constructor(r,a){super(),this.state="initialized",this.connection=null,this.key=r,this.options=a,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var u=R.getNetwork();u.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),u.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(r){return this.connection?this.connection.send(r):!1}send_event(r,a,u){return this.connection?this.connection.send_event(r,a,u):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var r=(a,u)=>{a?this.runner=this.strategy.connect(0,r):u.action==="error"?(this.emit("error",{type:"HandshakeError",error:u.error}),this.timeline.error({handshakeError:u.error})):(this.abortConnecting(),this.handshakeCallbacks[u.action](u))};this.runner=this.strategy.connect(0,r)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var r=this.abandonConnection();r.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(r){this.timeline.info({action:"retry",delay:r}),r>0&&this.emit("connecting_in",Math.round(r/1e3)),this.retryTimer=new ge(r||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ge(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ge(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ge(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(r){return V({},r,{message:a=>{this.resetActivityCheck(),this.emit("message",a)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:a=>{this.emit("error",a)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(r){return V({},r,{connected:a=>{this.activityTimeout=Math.min(this.options.activityTimeout,a.activityTimeout,a.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(a.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let r=a=>u=>{u.error&&this.emit("error",{type:"WebSocketError",error:u.error}),a(u)};return{tls_only:r(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:r(()=>{this.disconnect()}),backoff:r(()=>{this.retryIn(1e3)}),retry:r(()=>{this.retryIn(0)})}}setConnection(r){this.connection=r;for(var a in this.connectionCallbacks)this.connection.bind(a,this.connectionCallbacks[a]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var r in this.connectionCallbacks)this.connection.unbind(r,this.connectionCallbacks[r]);var a=this.connection;return this.connection=null,a}}updateState(r,a){var u=this.state;if(this.state=r,u!==r){var d=r;d==="connected"&&(d+=" with new socket ID "+a.socket_id),M.debug("State changed",u+" -> "+d),this.timeline.info({state:r,params:a}),this.emit("state_change",{previous:u,current:r}),this.emit(r,a)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Ts{constructor(){this.channels={}}add(r,a){return this.channels[r]||(this.channels[r]=_s(r,a)),this.channels[r]}all(){return Mi(this.channels)}find(r){return this.channels[r]}remove(r){var a=this.channels[r];return delete this.channels[r],a}disconnect(){re(this.channels,function(r){r.disconnect()})}}function _s(l,r){if(l.indexOf("private-encrypted-")===0){if(r.config.nacl)return ae.createEncryptedChannel(l,r,r.config.nacl);let a="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",u=b.buildLogSuffix("encryptedChannelSupport");throw new F(`${a}. ${u}`)}else{if(l.indexOf("private-")===0)return ae.createPrivateChannel(l,r);if(l.indexOf("presence-")===0)return ae.createPresenceChannel(l,r);if(l.indexOf("#")===0)throw new _('Cannot create a channel with name "'+l+'".');return ae.createChannel(l,r)}}var Es={createChannels(){return new Ts},createConnectionManager(l,r){return new Cs(l,r)},createChannel(l,r){return new dt(l,r)},createPrivateChannel(l,r){return new ft(l,r)},createPresenceChannel(l,r){return new bs(l,r)},createEncryptedChannel(l,r,a){return new Ss(l,r,a)},createTimelineSender(l,r){return new ms(l,r)},createHandshake(l,r){return new ps(l,r)},createAssistantToTheTransportManager(l,r,a){return new fs(l,r,a)}},ae=Es;class on{constructor(r){this.options=r||{},this.livesLeft=this.options.lives||1/0}getAssistant(r){return ae.createAssistantToTheTransportManager(this,r,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class me{constructor(r,a){this.strategies=r,this.loop=!!a.loop,this.failFast=!!a.failFast,this.timeout=a.timeout,this.timeoutLimit=a.timeoutLimit}isSupported(){return Zt(this.strategies,Y.method("isSupported"))}connect(r,a){var u=this.strategies,d=0,w=this.timeout,E=null,O=(A,L)=>{L?a(null,L):(d=d+1,this.loop&&(d=d%u.length),d<u.length?(w&&(w=w*2,this.timeoutLimit&&(w=Math.min(w,this.timeoutLimit))),E=this.tryStrategy(u[d],r,{timeout:w,failFast:this.failFast},O)):a(!0))};return E=this.tryStrategy(u[d],r,{timeout:w,failFast:this.failFast},O),{abort:function(){E.abort()},forceMinPriority:function(A){r=A,E&&E.forceMinPriority(A)}}}tryStrategy(r,a,u,d){var w=null,E=null;return u.timeout>0&&(w=new ge(u.timeout,function(){E.abort(),d(!0)})),E=r.connect(a,function(O,A){O&&w&&w.isRunning()&&!u.failFast||(w&&w.ensureAborted(),d(O,A))}),{abort:function(){w&&w.ensureAborted(),E.abort()},forceMinPriority:function(O){E.forceMinPriority(O)}}}}class pt{constructor(r){this.strategies=r}isSupported(){return Zt(this.strategies,Y.method("isSupported"))}connect(r,a){return Is(this.strategies,r,function(u,d){return function(w,E){if(d[u].error=w,w){Os(d)&&a(!0);return}Ee(d,function(O){O.forceMinPriority(E.transport.priority)}),a(null,E)}})}}function Is(l,r,a){var u=Vt(l,function(d,w,E,O){return d.connect(r,a(w,O))});return{abort:function(){Ee(u,xs)},forceMinPriority:function(d){Ee(u,function(w){w.forceMinPriority(d)})}}}function Os(l){return Fi(l,function(r){return!!r.error})}function xs(l){!l.error&&!l.aborted&&(l.abort(),l.aborted=!0)}class ks{constructor(r,a,u){this.strategy=r,this.transports=a,this.ttl=u.ttl||1800*1e3,this.usingTLS=u.useTLS,this.timeline=u.timeline}isSupported(){return this.strategy.isSupported()}connect(r,a){var u=this.usingTLS,d=As(u),w=d&&d.cacheSkipCount?d.cacheSkipCount:0,E=[this.strategy];if(d&&d.timestamp+this.ttl>=Y.now()){var O=this.transports[d.transport];O&&(["ws","wss"].includes(d.transport)||w>3?(this.timeline.info({cached:!0,transport:d.transport,latency:d.latency}),E.push(new me([O],{timeout:d.latency*2+1e3,failFast:!0}))):w++)}var A=Y.now(),L=E.pop().connect(r,function N(j,He){j?(an(u),E.length>0?(A=Y.now(),L=E.pop().connect(r,N)):a(j)):(Rs(u,He.transport.name,Y.now()-A,w),a(null,He))});return{abort:function(){L.abort()},forceMinPriority:function(N){r=N,L&&L.forceMinPriority(N)}}}}function mt(l){return"pusherTransport"+(l?"TLS":"NonTLS")}function As(l){var r=R.getLocalStorage();if(r)try{var a=r[mt(l)];if(a)return JSON.parse(a)}catch{an(l)}return null}function Rs(l,r,a,u){var d=R.getLocalStorage();if(d)try{d[mt(l)]=ze({timestamp:Y.now(),transport:r,latency:a,cacheSkipCount:u})}catch{}}function an(l){var r=R.getLocalStorage();if(r)try{delete r[mt(l)]}catch{}}class Me{constructor(r,{delay:a}){this.strategy=r,this.options={delay:a}}isSupported(){return this.strategy.isSupported()}connect(r,a){var u=this.strategy,d,w=new ge(this.options.delay,function(){d=u.connect(r,a)});return{abort:function(){w.ensureAborted(),d&&d.abort()},forceMinPriority:function(E){r=E,d&&d.forceMinPriority(E)}}}}class Ie{constructor(r,a,u){this.test=r,this.trueBranch=a,this.falseBranch=u}isSupported(){var r=this.test()?this.trueBranch:this.falseBranch;return r.isSupported()}connect(r,a){var u=this.test()?this.trueBranch:this.falseBranch;return u.connect(r,a)}}class Ps{constructor(r){this.strategy=r}isSupported(){return this.strategy.isSupported()}connect(r,a){var u=this.strategy.connect(r,function(d,w){w&&u.abort(),a(d,w)});return u}}function Oe(l){return function(){return l.isSupported()}}var Ls=function(l,r,a){var u={};function d(yn,Pr,Lr,Nr,zr){var bn=a(l,yn,Pr,Lr,Nr,zr);return u[yn]=bn,bn}var w=Object.assign({},r,{hostNonTLS:l.wsHost+":"+l.wsPort,hostTLS:l.wsHost+":"+l.wssPort,httpPath:l.wsPath}),E=Object.assign({},w,{useTLS:!0}),O=Object.assign({},r,{hostNonTLS:l.httpHost+":"+l.httpPort,hostTLS:l.httpHost+":"+l.httpsPort,httpPath:l.httpPath}),A={loop:!0,timeout:15e3,timeoutLimit:6e4},L=new on({minPingDelay:1e4,maxPingDelay:l.activityTimeout}),N=new on({lives:2,minPingDelay:1e4,maxPingDelay:l.activityTimeout}),j=d("ws","ws",3,w,L),He=d("wss","ws",3,E,L),Or=d("sockjs","sockjs",1,O),dn=d("xhr_streaming","xhr_streaming",1,O,N),xr=d("xdr_streaming","xdr_streaming",1,O,N),fn=d("xhr_polling","xhr_polling",1,O),kr=d("xdr_polling","xdr_polling",1,O),gn=new me([j],A),Ar=new me([He],A),Rr=new me([Or],A),pn=new me([new Ie(Oe(dn),dn,xr)],A),mn=new me([new Ie(Oe(fn),fn,kr)],A),vn=new me([new Ie(Oe(pn),new pt([pn,new Me(mn,{delay:4e3})]),mn)],A),wt=new Ie(Oe(vn),vn,Rr),St;return r.useTLS?St=new pt([gn,new Me(wt,{delay:2e3})]):St=new pt([gn,new Me(Ar,{delay:2e3}),new Me(wt,{delay:5e3})]),new ks(new Ps(new Ie(Oe(j),St,wt)),u,{ttl:18e5,timeline:r.timeline,useTLS:r.useTLS})},Ns=Ls,zs=function(){var l=this;l.timeline.info(l.buildTimelineMessage({transport:l.name+(l.options.useTLS?"s":"")})),l.hooks.isInitialized()?l.changeState("initialized"):l.hooks.file?(l.changeState("initializing"),v.load(l.hooks.file,{useTLS:l.options.useTLS},function(r,a){l.hooks.isInitialized()?(l.changeState("initialized"),a(!0)):(r&&l.onError(r),l.onClose(),a(!1))})):l.onClose()},Ds={getRequest:function(l){var r=new window.XDomainRequest;return r.ontimeout=function(){l.emit("error",new I),l.close()},r.onerror=function(a){l.emit("error",a),l.close()},r.onprogress=function(){r.responseText&&r.responseText.length>0&&l.onChunk(200,r.responseText)},r.onload=function(){r.responseText&&r.responseText.length>0&&l.onChunk(200,r.responseText),l.emit("finished",200),l.close()},r},abortRequest:function(l){l.ontimeout=l.onerror=l.onprogress=l.onload=null,l.abort()}},Ms=Ds;const Bs=256*1024;class Hs extends oe{constructor(r,a,u){super(),this.hooks=r,this.method=a,this.url=u}start(r){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},R.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(r)}close(){this.unloader&&(R.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(r,a){for(;;){var u=this.advanceBuffer(a);if(u)this.emit("chunk",{status:r,data:u});else break}this.isBufferTooLong(a)&&this.emit("buffer_too_long")}advanceBuffer(r){var a=r.slice(this.position),u=a.indexOf(`
`);return u!==-1?(this.position+=u+1,a.slice(0,u)):null}isBufferTooLong(r){return this.position===r.length&&r.length>Bs}}var vt;(function(l){l[l.CONNECTING=0]="CONNECTING",l[l.OPEN=1]="OPEN",l[l.CLOSED=3]="CLOSED"})(vt||(vt={}));var ve=vt,Fs=1;class js{constructor(r,a){this.hooks=r,this.session=cn(1e3)+"/"+qs(8),this.location=$s(a),this.readyState=ve.CONNECTING,this.openStream()}send(r){return this.sendRaw(JSON.stringify([r]))}ping(){this.hooks.sendHeartbeat(this)}close(r,a){this.onClose(r,a,!0)}sendRaw(r){if(this.readyState===ve.OPEN)try{return R.createSocketRequest("POST",ln(Us(this.location,this.session))).start(r),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(r,a,u){this.closeStream(),this.readyState=ve.CLOSED,this.onclose&&this.onclose({code:r,reason:a,wasClean:u})}onChunk(r){if(r.status===200){this.readyState===ve.OPEN&&this.onActivity();var a,u=r.data.slice(0,1);switch(u){case"o":a=JSON.parse(r.data.slice(1)||"{}"),this.onOpen(a);break;case"a":a=JSON.parse(r.data.slice(1)||"[]");for(var d=0;d<a.length;d++)this.onEvent(a[d]);break;case"m":a=JSON.parse(r.data.slice(1)||"null"),this.onEvent(a);break;case"h":this.hooks.onHeartbeat(this);break;case"c":a=JSON.parse(r.data.slice(1)||"[]"),this.onClose(a[0],a[1],!0);break}}}onOpen(r){this.readyState===ve.CONNECTING?(r&&r.hostname&&(this.location.base=Gs(this.location.base,r.hostname)),this.readyState=ve.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(r){this.readyState===ve.OPEN&&this.onmessage&&this.onmessage({data:r})}onActivity(){this.onactivity&&this.onactivity()}onError(r){this.onerror&&this.onerror(r)}openStream(){this.stream=R.createSocketRequest("POST",ln(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",r=>{this.onChunk(r)}),this.stream.bind("finished",r=>{this.hooks.onFinished(this,r)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(r){Y.defer(()=>{this.onError(r),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function $s(l){var r=/([^\?]*)\/*(\??.*)/.exec(l);return{base:r[1],queryString:r[2]}}function Us(l,r){return l.base+"/"+r+"/xhr_send"}function ln(l){var r=l.indexOf("?")===-1?"?":"&";return l+r+"t="+ +new Date+"&n="+Fs++}function Gs(l,r){var a=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(l);return a[1]+r+a[3]}function cn(l){return R.randomInt(l)}function qs(l){for(var r=[],a=0;a<l;a++)r.push(cn(32).toString(32));return r.join("")}var Xs=js,Ws={getReceiveURL:function(l,r){return l.base+"/"+r+"/xhr_streaming"+l.queryString},onHeartbeat:function(l){l.sendRaw("[]")},sendHeartbeat:function(l){l.sendRaw("[]")},onFinished:function(l,r){l.onClose(1006,"Connection interrupted ("+r+")",!1)}},Ys=Ws,Vs={getReceiveURL:function(l,r){return l.base+"/"+r+"/xhr"+l.queryString},onHeartbeat:function(){},sendHeartbeat:function(l){l.sendRaw("[]")},onFinished:function(l,r){r===200?l.reconnect():l.onClose(1006,"Connection interrupted ("+r+")",!1)}},Js=Vs,Ks={getRequest:function(l){var r=R.getXHRAPI(),a=new r;return a.onreadystatechange=a.onprogress=function(){switch(a.readyState){case 3:a.responseText&&a.responseText.length>0&&l.onChunk(a.status,a.responseText);break;case 4:a.responseText&&a.responseText.length>0&&l.onChunk(a.status,a.responseText),l.emit("finished",a.status),l.close();break}},a},abortRequest:function(l){l.onreadystatechange=null,l.abort()}},Zs=Ks,Qs={createStreamingSocket(l){return this.createSocket(Ys,l)},createPollingSocket(l){return this.createSocket(Js,l)},createSocket(l,r){return new Xs(l,r)},createXHR(l,r){return this.createRequest(Zs,l,r)},createRequest(l,r,a){return new Hs(l,r,a)}},un=Qs;un.createXDR=function(l,r){return this.createRequest(Ms,l,r)};var er=un,tr={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:c,DependenciesReceivers:g,getDefaultStrategy:Ns,Transports:us,transportConnectionInitializer:zs,HTTPFactory:er,TimelineTransport:Ki,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(l){window.Pusher=l;var r=()=>{this.onDocumentBody(l.ready)};window.JSON?r():v.load("json2",{},r)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:se,jsonp:Xi}},onDocumentBody(l){document.body?l():setTimeout(()=>{this.onDocumentBody(l)},0)},createJSONPRequest(l,r){return new Yi(l,r)},createScriptRequest(l){return new Wi(l)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var l=this.getXHRAPI();return new l},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return ds},createWebSocket(l){var r=this.getWebSocketAPI();return new r(l)},createSocketRequest(l,r){if(this.isXHRSupported())return this.HTTPFactory.createXHR(l,r);if(this.isXDRSupported(r.indexOf("https:")===0))return this.HTTPFactory.createXDR(l,r);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var l=this.getXHRAPI();return!!l&&new l().withCredentials!==void 0},isXDRSupported(l){var r=l?"https:":"http:",a=this.getProtocol();return!!window.XDomainRequest&&a===r},addUnloadListener(l){window.addEventListener!==void 0?window.addEventListener("unload",l,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",l)},removeUnloadListener(l){window.addEventListener!==void 0?window.removeEventListener("unload",l,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",l)},randomInt(l){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*l)}},R=tr,yt;(function(l){l[l.ERROR=3]="ERROR",l[l.INFO=6]="INFO",l[l.DEBUG=7]="DEBUG"})(yt||(yt={}));var Be=yt;class nr{constructor(r,a,u){this.key=r,this.session=a,this.events=[],this.options=u||{},this.sent=0,this.uniqueID=0}log(r,a){r<=this.options.level&&(this.events.push(V({},a,{timestamp:Y.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(r){this.log(Be.ERROR,r)}info(r){this.log(Be.INFO,r)}debug(r){this.log(Be.DEBUG,r)}isEmpty(){return this.events.length===0}send(r,a){var u=V({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],r(u,(d,w)=>{d||this.sent++,a&&a(d,w)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class ir{constructor(r,a,u,d){this.name=r,this.priority=a,this.transport=u,this.options=d||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(r,a){if(this.isSupported()){if(this.priority<r)return hn(new x,a)}else return hn(new H,a);var u=!1,d=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),w=null,E=function(){d.unbind("initialized",E),d.connect()},O=function(){w=ae.createHandshake(d,function(j){u=!0,N(),a(null,j)})},A=function(j){N(),a(j)},L=function(){N();var j;j=ze(d),a(new D(j))},N=function(){d.unbind("initialized",E),d.unbind("open",O),d.unbind("error",A),d.unbind("closed",L)};return d.bind("initialized",E),d.bind("open",O),d.bind("error",A),d.bind("closed",L),d.initialize(),{abort:()=>{u||(N(),w?w.close():d.close())},forceMinPriority:j=>{u||this.priority<j&&(w?w.close():d.close())}}}}function hn(l,r){return Y.defer(function(){r(l)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:sr}=R;var rr=function(l,r,a,u,d,w){var E=sr[a];if(!E)throw new B(a);var O=(!l.enabledTransports||Wt(l.enabledTransports,r)!==-1)&&(!l.disabledTransports||Wt(l.disabledTransports,r)===-1),A;return O?(d=Object.assign({ignoreNullOrigin:l.ignoreNullOrigin},d),A=new ir(r,u,w?w.getAssistant(E):E,d)):A=or,A},or={isSupported:function(){return!1},connect:function(l,r){var a=Y.defer(function(){r(new H)});return{abort:function(){a.ensureAborted()},forceMinPriority:function(){}}}};function ar(l){if(l==null)throw"You must pass an options object";if(l.cluster==null)throw"Options object must provide a cluster";"disableStats"in l&&M.warn("The disableStats option is deprecated in favor of enableStats")}const lr=(l,r)=>{var a="socket_id="+encodeURIComponent(l.socketId);for(var u in r.params)a+="&"+encodeURIComponent(u)+"="+encodeURIComponent(r.params[u]);if(r.paramsProvider!=null){let d=r.paramsProvider();for(var u in d)a+="&"+encodeURIComponent(u)+"="+encodeURIComponent(d[u])}return a};var cr=l=>{if(typeof R.getAuthorizers()[l.transport]>"u")throw`'${l.transport}' is not a recognized auth transport`;return(r,a)=>{const u=lr(r,l);R.getAuthorizers()[l.transport](R,u,l,T.UserAuthentication,a)}};const ur=(l,r)=>{var a="socket_id="+encodeURIComponent(l.socketId);a+="&channel_name="+encodeURIComponent(l.channelName);for(var u in r.params)a+="&"+encodeURIComponent(u)+"="+encodeURIComponent(r.params[u]);if(r.paramsProvider!=null){let d=r.paramsProvider();for(var u in d)a+="&"+encodeURIComponent(u)+"="+encodeURIComponent(d[u])}return a};var hr=l=>{if(typeof R.getAuthorizers()[l.transport]>"u")throw`'${l.transport}' is not a recognized auth transport`;return(r,a)=>{const u=ur(r,l);R.getAuthorizers()[l.transport](R,u,l,T.ChannelAuthorization,a)}};const dr=(l,r,a)=>{const u={authTransport:r.transport,authEndpoint:r.endpoint,auth:{params:r.params,headers:r.headers}};return(d,w)=>{const E=l.channel(d.channelName);a(E,u).authorize(d.socketId,w)}};function fr(l,r){let a={activityTimeout:l.activityTimeout||f.activityTimeout,cluster:l.cluster,httpPath:l.httpPath||f.httpPath,httpPort:l.httpPort||f.httpPort,httpsPort:l.httpsPort||f.httpsPort,pongTimeout:l.pongTimeout||f.pongTimeout,statsHost:l.statsHost||f.stats_host,unavailableTimeout:l.unavailableTimeout||f.unavailableTimeout,wsPath:l.wsPath||f.wsPath,wsPort:l.wsPort||f.wsPort,wssPort:l.wssPort||f.wssPort,enableStats:yr(l),httpHost:gr(l),useTLS:vr(l),wsHost:pr(l),userAuthenticator:br(l),channelAuthorizer:Sr(l,r)};return"disabledTransports"in l&&(a.disabledTransports=l.disabledTransports),"enabledTransports"in l&&(a.enabledTransports=l.enabledTransports),"ignoreNullOrigin"in l&&(a.ignoreNullOrigin=l.ignoreNullOrigin),"timelineParams"in l&&(a.timelineParams=l.timelineParams),"nacl"in l&&(a.nacl=l.nacl),a}function gr(l){return l.httpHost?l.httpHost:l.cluster?`sockjs-${l.cluster}.pusher.com`:f.httpHost}function pr(l){return l.wsHost?l.wsHost:mr(l.cluster)}function mr(l){return`ws-${l}.pusher.com`}function vr(l){return R.getProtocol()==="https:"?!0:l.forceTLS!==!1}function yr(l){return"enableStats"in l?l.enableStats:"disableStats"in l?!l.disableStats:!1}function br(l){const r=Object.assign(Object.assign({},f.userAuthentication),l.userAuthentication);return"customHandler"in r&&r.customHandler!=null?r.customHandler:cr(r)}function wr(l,r){let a;return"channelAuthorization"in l?a=Object.assign(Object.assign({},f.channelAuthorization),l.channelAuthorization):(a={transport:l.authTransport||f.authTransport,endpoint:l.authEndpoint||f.authEndpoint},"auth"in l&&("params"in l.auth&&(a.params=l.auth.params),"headers"in l.auth&&(a.headers=l.auth.headers)),"authorizer"in l&&(a.customHandler=dr(r,a,l.authorizer))),a}function Sr(l,r){const a=wr(l,r);return"customHandler"in a&&a.customHandler!=null?a.customHandler:hr(a)}class Cr extends oe{constructor(r){super(function(a,u){M.debug(`No callbacks on watchlist events for ${a}`)}),this.pusher=r,this.bindWatchlistInternalEvent()}handleEvent(r){r.data.events.forEach(a=>{this.emit(a.name,a)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",r=>{var a=r.event;a==="pusher_internal:watchlist_events"&&this.handleEvent(r)})}}function Tr(){let l,r;return{promise:new Promise((u,d)=>{l=u,r=d}),resolve:l,reject:r}}var _r=Tr;class Er extends oe{constructor(r){super(function(a,u){M.debug("No callbacks on user for "+a)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(a,u)=>{if(a){M.warn(`Error during signin: ${a}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:u.auth,user_data:u.user_data})},this.pusher=r,this.pusher.connection.bind("state_change",({previous:a,current:u})=>{a!=="connected"&&u==="connected"&&this._signin(),a==="connected"&&u!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Cr(r),this.pusher.connection.bind("message",a=>{var u=a.event;u==="pusher:signin_success"&&this._onSigninSuccess(a.data),this.serverToUserChannel&&this.serverToUserChannel.name===a.channel&&this.serverToUserChannel.handleEvent(a)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(r){try{this.user_data=JSON.parse(r.user_data)}catch{M.error(`Failed parsing user data after signin: ${r.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){M.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const r=a=>{a.subscriptionPending&&a.subscriptionCancelled?a.reinstateSubscription():!a.subscriptionPending&&this.pusher.connection.state==="connected"&&a.subscribe()};this.serverToUserChannel=new dt(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((a,u)=>{a.indexOf("pusher_internal:")===0||a.indexOf("pusher:")===0||this.emit(a,u)}),r(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:r,resolve:a,reject:u}=_r();r.done=!1;const d=()=>{r.done=!0};r.then(d).catch(d),this.signinDonePromise=r,this._signinDoneResolve=a}}class G{static ready(){G.isReady=!0;for(var r=0,a=G.instances.length;r<a;r++)G.instances[r].connect()}static getClientFeatures(){return Yt(Kt({ws:R.Transports.ws},function(r){return r.isSupported({})}))}constructor(r,a){Ir(r),ar(a),this.key=r,this.config=fr(a,this),this.channels=ae.createChannels(),this.global_emitter=new oe,this.sessionID=R.randomInt(1e9),this.timeline=new nr(this.key,this.sessionID,{cluster:this.config.cluster,features:G.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Be.INFO,version:f.VERSION}),this.config.enableStats&&(this.timelineSender=ae.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+R.TimelineTransport.name}));var u=d=>R.getDefaultStrategy(this.config,d,rr);this.connection=ae.createConnectionManager(this.key,{getStrategy:u,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",d=>{var w=d.event,E=w.indexOf("pusher_internal:")===0;if(d.channel){var O=this.channel(d.channel);O&&O.handleEvent(d)}E||this.global_emitter.emit(d.event,d.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",d=>{M.warn(d)}),G.instances.push(this),this.timeline.info({instances:G.instances.length}),this.user=new Er(this),G.isReady&&this.connect()}channel(r){return this.channels.find(r)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var r=this.connection.isUsingTLS(),a=this.timelineSender;this.timelineSenderTimer=new Ni(6e4,function(){a.send(r)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(r,a,u){return this.global_emitter.bind(r,a,u),this}unbind(r,a,u){return this.global_emitter.unbind(r,a,u),this}bind_global(r){return this.global_emitter.bind_global(r),this}unbind_global(r){return this.global_emitter.unbind_global(r),this}unbind_all(r){return this.global_emitter.unbind_all(),this}subscribeAll(){var r;for(r in this.channels.channels)this.channels.channels.hasOwnProperty(r)&&this.subscribe(r)}subscribe(r){var a=this.channels.add(r,this);return a.subscriptionPending&&a.subscriptionCancelled?a.reinstateSubscription():!a.subscriptionPending&&this.connection.state==="connected"&&a.subscribe(),a}unsubscribe(r){var a=this.channels.find(r);a&&a.subscriptionPending?a.cancelSubscription():(a=this.channels.remove(r),a&&a.subscribed&&a.unsubscribe())}send_event(r,a,u){return this.connection.send_event(r,a,u)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}G.instances=[],G.isReady=!1,G.logToConsole=!1,G.Runtime=R,G.ScriptReceivers=R.ScriptReceivers,G.DependenciesReceivers=R.DependenciesReceivers,G.auth_callbacks=R.auth_callbacks;var bt=i.default=G;function Ir(l){if(l==null)throw"You must pass your app key when you instantiate Pusher."}R.setup(G)}])})})(Ci);var Oa=Ci.exports;const xa=Ia(Oa);window.axios=ga;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Pusher=xa;window.Echo=new Ea({broadcaster:"pusher",key:"041462e3ef025d960fee",cluster:"ap1",wsHost:"ws-ap1.pusher.com",wsPort:"",wssPort:"",forceTLS:!1,enabledTransports:["ws","wss"]});/*!
 * lightgallery | 2.7.2 | September 20th 2023
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var he=function(){return he=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},he.apply(this,arguments)};function ka(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),s=0,e=0;e<t;e++)for(var o=arguments[e],c=0,h=o.length;c<h;c++,s++)i[s]=o[c];return i}var z={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},Aa={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}};function Ra(){(function(){if(typeof window.CustomEvent=="function")return!1;function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}window.CustomEvent=n})(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}()}var Ti=function(){function n(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}return n.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e=="x"?t:t&3|8;return i.toString(16)})},n.prototype._getSelector=function(e,t){if(t===void 0&&(t=document),typeof e!="string")return e;t=t||document;var i=e.substring(0,1);return i==="#"?t.querySelector(e):t.querySelectorAll(e)},n.prototype._each=function(e){return this.selector?(this.selector.length!==void 0?[].forEach.call(this.selector,e):e(this.selector,0),this):this},n.prototype._setCssVendorPrefix=function(e,t,i){var s=t.replace(/-([a-z])/gi,function(o,c){return c.toUpperCase()});this.cssVenderPrefixes.indexOf(s)!==-1?(e.style[s.charAt(0).toLowerCase()+s.slice(1)]=i,e.style["webkit"+s]=i,e.style["moz"+s]=i,e.style["ms"+s]=i,e.style["o"+s]=i):e.style[s]=i},n.prototype._getFirstEl=function(){return this.selector&&this.selector.length!==void 0?this.selector[0]:this.selector},n.prototype.isEventMatched=function(e,t){var i=t.split(".");return e.split(".").filter(function(s){return s}).every(function(s){return i.indexOf(s)!==-1})},n.prototype.attr=function(e,t){return t===void 0?this.firstElement?this.firstElement.getAttribute(e):"":(this._each(function(i){i.setAttribute(e,t)}),this)},n.prototype.find=function(e){return k(this._getSelector(e,this.selector))},n.prototype.first=function(){return this.selector&&this.selector.length!==void 0?k(this.selector[0]):k(this.selector)},n.prototype.eq=function(e){return k(this.selector[e])},n.prototype.parent=function(){return k(this.selector.parentElement)},n.prototype.get=function(){return this._getFirstEl()},n.prototype.removeAttr=function(e){var t=e.split(" ");return this._each(function(i){t.forEach(function(s){return i.removeAttribute(s)})}),this},n.prototype.wrap=function(e){if(!this.firstElement)return this;var t=document.createElement("div");return t.className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement),this},n.prototype.addClass=function(e){return e===void 0&&(e=""),this._each(function(t){e.split(" ").forEach(function(i){i&&t.classList.add(i)})}),this},n.prototype.removeClass=function(e){return this._each(function(t){e.split(" ").forEach(function(i){i&&t.classList.remove(i)})}),this},n.prototype.hasClass=function(e){return this.firstElement?this.firstElement.classList.contains(e):!1},n.prototype.hasAttribute=function(e){return this.firstElement?this.firstElement.hasAttribute(e):!1},n.prototype.toggleClass=function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this},n.prototype.css=function(e,t){var i=this;return this._each(function(s){i._setCssVendorPrefix(s,e,t)}),this},n.prototype.on=function(e,t){var i=this;return this.selector?(e.split(" ").forEach(function(s){Array.isArray(n.eventListeners[s])||(n.eventListeners[s]=[]),n.eventListeners[s].push(t),i.selector.addEventListener(s.split(".")[0],t)}),this):this},n.prototype.once=function(e,t){var i=this;return this.on(e,function(){i.off(e),t(e)}),this},n.prototype.off=function(e){var t=this;return this.selector?(Object.keys(n.eventListeners).forEach(function(i){t.isEventMatched(e,i)&&(n.eventListeners[i].forEach(function(s){t.selector.removeEventListener(i.split(".")[0],s)}),n.eventListeners[i]=[])}),this):this},n.prototype.trigger=function(e,t){if(!this.firstElement)return this;var i=new CustomEvent(e.split(".")[0],{detail:t||null});return this.firstElement.dispatchEvent(i),this},n.prototype.load=function(e){var t=this;return fetch(e).then(function(i){return i.text()}).then(function(i){t.selector.innerHTML=i}),this},n.prototype.html=function(e){return e===void 0?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(t){t.innerHTML=e}),this)},n.prototype.append=function(e){return this._each(function(t){typeof e=="string"?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)}),this},n.prototype.prepend=function(e){return this._each(function(t){t.insertAdjacentHTML("afterbegin",e)}),this},n.prototype.remove=function(){return this._each(function(e){e.parentNode.removeChild(e)}),this},n.prototype.empty=function(){return this._each(function(e){e.innerHTML=""}),this},n.prototype.scrollTop=function(e){return e!==void 0?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},n.prototype.scrollLeft=function(e){return e!==void 0?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},n.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),t=k("body").style().marginLeft;return{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}},n.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},n.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},n.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},n.eventListeners={},n}();function k(n){return Ra(),new Ti(n)}var Pa=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function La(n){return n==="href"?"src":(n=n.replace("data-",""),n=n.charAt(0).toLowerCase()+n.slice(1),n=n.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),n)}var q={getSize:function(n,e,t,i){t===void 0&&(t=0);var s=k(n),o=s.attr("data-lg-size")||i;if(o){var c=o.split(",");if(c[1])for(var h=window.innerWidth,f=0;f<c.length;f++){var m=c[f],g=parseInt(m.split("-")[2],10);if(g>h){o=m;break}f===c.length-1&&(o=m)}var v=o.split("-"),p=parseInt(v[0],10),C=parseInt(v[1],10),b=e.width(),T=e.height()-t,S=Math.min(b,p),_=Math.min(T,C),I=Math.min(S/p,_/C);return{width:p*I,height:C*I}}},getTransform:function(n,e,t,i,s){if(s){var o=k(n).find("img").first();if(o.get()){var c=e.get().getBoundingClientRect(),h=c.width,f=e.height()-(t+i),m=o.width(),g=o.height(),v=o.style(),p=(h-m)/2-o.offset().left+(parseFloat(v.paddingLeft)||0)+(parseFloat(v.borderLeft)||0)+k(window).scrollLeft()+c.left,C=(f-g)/2-o.offset().top+(parseFloat(v.paddingTop)||0)+(parseFloat(v.borderTop)||0)+k(window).scrollTop()+t,b=m/s.width,T=g/s.height,S="translate3d("+(p*=-1)+"px, "+(C*=-1)+"px, 0) scale3d("+b+", "+T+", 1)";return S}}},getIframeMarkup:function(n,e,t,i,s,o){var c=o?'title="'+o+'"':"";return'<div class="lg-video-cont lg-has-iframe" style="width:'+n+"; max-width:"+t+"; height: "+e+"; max-height:"+i+`">
                    <iframe class="lg-object" frameborder="0" `+c+' src="'+s+`"  allowfullscreen="true"></iframe>
                </div>`},getImgMarkup:function(n,e,t,i,s,o){var c=i?'srcset="'+i+'"':"",h=s?'sizes="'+s+'"':"",f="<img "+t+" "+c+"  "+h+' class="lg-object lg-image" data-index="'+n+'" src="'+e+'" />',m="";if(o){var g=typeof o=="string"?JSON.parse(o):o;m=g.map(function(v){var p="";return Object.keys(v).forEach(function(C){p+=" "+C+'="'+v[C]+'"'}),"<source "+p+"></source>"})}return""+m+f},getResponsiveSrc:function(n){for(var e=[],t=[],i="",s=0;s<n.length;s++){var o=n[s].split(" ");o[0]===""&&o.splice(0,1),t.push(o[0]),e.push(o[1])}for(var c=window.innerWidth,h=0;h<e.length;h++)if(parseInt(e[h],10)>c){i=t[h];break}return i},isImageLoaded:function(n){return!(!n||!n.complete||n.naturalWidth===0)},getVideoPosterMarkup:function(n,e,t,i,s){var o="";return s&&s.youtube?o="lg-has-youtube":s&&s.vimeo?o="lg-has-vimeo":o="lg-has-html5",'<div class="lg-video-cont '+o+'" style="'+t+`">
                <div class="lg-video-play-button">
                <svg
                    viewBox="0 0 20 20"
                    preserveAspectRatio="xMidYMid"
                    focusable="false"
                    aria-labelledby="`+i+`"
                    role="img"
                    class="lg-video-play-icon"
                >
                    <title>`+i+`</title>
                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>
                </svg>
                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle></svg>
                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle>
                </svg>
            </div>
            `+(e||"")+`
            <img class="lg-object lg-video-poster" src="`+n+`" />
        </div>`},getFocusableElements:function(n){var e=n.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),t=[].filter.call(e,function(i){var s=window.getComputedStyle(i);return s.display!=="none"&&s.visibility!=="hidden"});return t},getDynamicOptions:function(n,e,t,i){var s=[],o=ka(Pa,e);return[].forEach.call(n,function(c){for(var h={},f=0;f<c.attributes.length;f++){var m=c.attributes[f];if(m.specified){var g=La(m.name),v="";o.indexOf(g)>-1&&(v=g),v&&(h[v]=m.value)}}var p=k(c),C=p.find("img").first().attr("alt"),b=p.attr("title"),T=i?p.attr(i):p.find("img").first().attr("src");h.thumb=T,t&&!h.subHtml&&(h.subHtml=b||C||""),h.alt=C||b||"",s.push(h)}),s},isMobile:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},isVideo:function(n,e,t){if(!n){if(e)return{html5:!0};console.error("lightGallery :- data-src is not provided on slide item "+(t+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");return}var i=n.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),s=n.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),o=n.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);if(i)return{youtube:i};if(s)return{vimeo:s};if(o)return{wistia:o}}},Dn=0,Na=function(){function n(e,t){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!e)return this;if(Dn++,this.lgId=Dn,this.el=e,this.LGel=k(e),this.generateSettings(t),this.buildModules(),this.settings.dynamic&&this.settings.dynamicEl!==void 0&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return n.prototype.generateSettings=function(e){if(this.settings=he(he({},Aa),e),this.settings.isMobile&&typeof this.settings.isMobile=="function"?this.settings.isMobile():q.isMobile()){var t=he(he({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=he(he({},this.settings),t)}},n.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},n.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(z.init,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},n.prototype.openGalleryOnItemClick=function(){for(var e=this,t=function(o){var c=i.items[o],h=k(c),f=Ti.generateUUID();h.attr("data-lg-id",f).on("click.lgcustom-item-"+f,function(m){m.preventDefault();var g=e.settings.index||o;e.openGallery(g,c)})},i=this,s=0;s<this.items.length;s++)t(s)},n.prototype.buildModules=function(){var e=this;this.settings.plugins.forEach(function(t){e.plugins.push(new t(e,k))})},n.prototype.validateLicense=function(){this.settings.licenseKey?this.settings.licenseKey==="0000-0000-000-0000"&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},n.prototype.getSlideItem=function(e){return k(this.getSlideItemId(e))},n.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},n.prototype.getIdName=function(e){return e+"-"+this.lgId},n.prototype.getElementById=function(e){return k("#"+this.getIdName(e))},n.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},n.prototype.buildStructure=function(){var e=this,t=this.$container&&this.$container.get();if(!t){var i="",s="";this.settings.controls&&(i='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+` </button>
                <button type="button" id="`+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),this.settings.appendSubHtmlTo!==".lg-item"&&(s='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var o="";this.settings.allowMediaOverlap&&(o+="lg-media-overlap ");var c=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",h=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",f="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),m=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",g=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",v=`
        <div class="`+f+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+c+" "+h+` role="dialog"
        >
            <div id="`+this.getIdName("lg-backdrop")+`" class="lg-backdrop"></div>

            <div id="`+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+o+` ">

              <div id="`+this.getIdName("lg-content")+`" class="lg-content">
                <div id="`+this.getIdName("lg-inner")+`" class="lg-inner">
                </div>
                `+i+`
              </div>
                <div id="`+this.getIdName("lg-toolbar")+`" class="lg-toolbar lg-group">
                    `+g+`
                    `+m+`
                    </div>
                    `+(this.settings.appendSubHtmlTo===".lg-outer"?s:"")+`
                <div id="`+this.getIdName("lg-components")+`" class="lg-components">
                    `+(this.settings.appendSubHtmlTo===".lg-sub-html"?s:"")+`
                </div>
            </div>
        </div>
        `;k(this.settings.container).append(v),document.body!==this.settings.container&&k(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var p=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(p+="lg-grab "),this.outer.addClass(p),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),k(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){e.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},n.prototype.refreshOnResize=function(){if(this.lgOpened){var e=this.galleryItems[this.index],t=e.__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var i=this.mediaContainerPosition,s=i.top,o=i.bottom;if(this.currentImageSize=q.getSize(this.items[this.index],this.outer,s+o,t&&this.settings.videoMaxSize),t&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var c=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",c)}this.LGel.trigger(z.containerResize)}},n.prototype.resizeVideoSlide=function(e,t){var i=this.getVideoContStyle(t),s=this.getSlideItem(e);s.find(".lg-video-cont").attr("style",i)},n.prototype.updateSlides=function(e,t){if(this.index>e.length-1&&(this.index=e.length-1),e.length===1&&(this.index=0),!e.length){this.closeGallery();return}var i=this.galleryItems[t].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var s=0;this.galleryItems.some(function(o,c){return o.src===i?(s=c,!0):!1}),this.currentItemsInDom=this.organizeSlideItems(s,-1),this.loadContent(s,!0),this.getSlideItem(s).addClass("lg-current"),this.index=s,this.updateCurrentCounter(s),this.LGel.trigger(z.updateSlides)},n.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if(this.settings.selector==="this")this.items.push(this.el);else if(this.settings.selector)if(typeof this.settings.selector=="string")if(this.settings.selectWithin){var e=k(this.settings.selectWithin);this.items=e.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return q.getDynamicOptions(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},n.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},n.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(k("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),t=window.innerWidth-e.width;k(document.body).css("padding-right",t+this.bodyPaddingRight+"px"),k(document.body).addClass("lg-overlay-open")}},n.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(k(document.body).css("padding-right",this.bodyPaddingRight+"px"),k(document.body).removeClass("lg-overlay-open"))},n.prototype.openGallery=function(e,t){var i=this;if(e===void 0&&(e=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var s=this.getItemsToBeInsertedToDom(e,e);this.currentItemsInDom=s;var o="";s.forEach(function(p){o=o+('<div id="'+p+'" class="lg-item"></div>')}),this.$inner.append(o),this.addHtml(e);var c="";this.mediaContainerPosition=this.getMediaContainerPosition();var h=this.mediaContainerPosition,f=h.top,m=h.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(f,m);var g=this.galleryItems[e].__slideVideoInfo;this.zoomFromOrigin&&t&&(this.currentImageSize=q.getSize(t,this.outer,f+m,g&&this.settings.videoMaxSize),c=q.getTransform(t,this.outer,f,m,this.currentImageSize)),(!this.zoomFromOrigin||!c)&&(this.outer.addClass(this.settings.startClass),this.getSlideItem(e).removeClass("lg-complete"));var v=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout(function(){i.outer.addClass("lg-components-open")},v),this.index=e,this.LGel.trigger(z.beforeOpen),this.getSlideItem(e).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=k(window).scrollTop(),setTimeout(function(){if(i.zoomFromOrigin&&c){var p=i.getSlideItem(e);p.css("transform",c),setTimeout(function(){p.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",i.settings.startAnimationDuration+"ms"),i.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){p.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){i.$backdrop.addClass("in"),i.$container.addClass("lg-show-in")},10),setTimeout(function(){i.settings.trapFocus&&document.body===i.settings.container&&i.trapFocus()},i.settings.backdropDuration+50),(!i.zoomFromOrigin||!c)&&setTimeout(function(){i.outer.addClass("lg-visible")},i.settings.backdropDuration),i.slide(e,!1,!1,!1),i.LGel.trigger(z.afterOpen)}),document.body===this.settings.container&&k("html").addClass("lg-on")}},n.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,t=this.outer.find(".lg-components .lg-sub-html").get(),i=this.settings.defaultCaptionHeight||t&&t.clientHeight||0,s=this.outer.find(".lg-thumb-outer").get(),o=s?s.clientHeight:0,c=o+i;return{top:e,bottom:c}},n.prototype.setMediaContainerPosition=function(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this.$content.css("top",e+"px").css("bottom",t+"px")},n.prototype.hideBars=function(){var e=this;setTimeout(function(){e.outer.removeClass("lg-hide-items"),e.settings.hideBarsDelay>0&&(e.outer.on("mousemove.lg click.lg touchstart.lg",function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout(function(){e.outer.addClass("lg-hide-items")},e.settings.hideBarsDelay)}),e.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},n.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch{console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},n.prototype.counter=function(){if(this.settings.counter){var e=`<div class="lg-counter" role="status" aria-live="polite">
                <span id="`+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+` </span> /
                <span id="`+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(e)}},n.prototype.addHtml=function(e){var t,i;if(this.galleryItems[e].subHtmlUrl?i=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,!i)if(t){var s=t.substring(0,1);(s==="."||s==="#")&&(this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?t=k(this.items).eq(e).find(t).first().html():t=k(t).first().html())}else t="";if(this.settings.appendSubHtmlTo!==".lg-item")i?this.outer.find(".lg-sub-html").load(i):this.outer.find(".lg-sub-html").html(t);else{var o=k(this.getSlideItemId(e));i?o.load(i):o.append('<div class="lg-sub-html">'+t+"</div>")}typeof t<"u"&&t!==null&&(t===""?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(z.afterAppendSubHtml,{index:e})},n.prototype.preload=function(e){for(var t=1;t<=this.settings.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var i=1;i<=this.settings.preload&&!(e-i<0);i++)this.loadContent(e-i,!1)},n.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+`px;
                margin-left: -`+e.width/2+`px;
                margin-top: -`+e.height/2+`px;
                height:`+e.height+"px":""},n.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+`px;
                height:`+e.height+"px":""},n.prototype.getDummyImageContent=function(e,t,i){var s;if(this.settings.dynamic||(s=k(this.items).eq(t)),s){var o=void 0;if(this.settings.exThumbImage?o=s.attr(this.settings.exThumbImage):o=s.find("img").first().attr("src"),!o)return"";var c=this.getDummyImgStyles(this.currentImageSize),h="<img "+i+' style="'+c+'" class="lg-dummy-img" src="'+o+'" />';return e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),h}return""},n.prototype.setImgMarkup=function(e,t,i){var s=this.galleryItems[i],o=s.alt,c=s.srcset,h=s.sizes,f=s.sources,m="",g=o?'alt="'+o+'"':"";this.isFirstSlideWithZoomAnimation()?m=this.getDummyImageContent(t,i,g):m=q.getImgMarkup(i,e,g,c,h,f);var v='<picture class="lg-img-wrap"> '+m+"</picture>";t.prepend(v)},n.prototype.onSlideObjectLoad=function(e,t,i,s){var o=e.find(".lg-object").first();q.isImageLoaded(o.get())||t?i():(o.on("load.lg error.lg",function(){i&&i()}),o.on("error.lg",function(){s&&s()}))},n.prototype.onLgObjectLoad=function(e,t,i,s,o,c){var h=this;this.onSlideObjectLoad(e,c,function(){h.triggerSlideItemLoad(e,t,i,s,o)},function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+h.settings.strings.mediaLoadingFailed+"</span>")})},n.prototype.triggerSlideItemLoad=function(e,t,i,s,o){var c=this,h=this.galleryItems[t],f=o&&this.getSlideType(h)==="video"&&!h.poster?s:0;setTimeout(function(){e.addClass("lg-complete lg-complete_"),c.LGel.trigger(z.slideItemLoad,{index:t,delay:i||0,isFirstSlide:o})},f)},n.prototype.isFirstSlideWithZoomAnimation=function(){return!!(!this.lGalleryOn&&this.zoomFromOrigin&&this.currentImageSize)},n.prototype.addSlideVideoInfo=function(e){var t=this;e.forEach(function(i,s){i.__slideVideoInfo=q.isVideo(i.src,!!i.video,s),i.__slideVideoInfo&&t.settings.loadYouTubePoster&&!i.poster&&i.__slideVideoInfo.youtube&&(i.poster="//img.youtube.com/vi/"+i.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},n.prototype.loadContent=function(e,t){var i=this,s=this.galleryItems[e],o=k(this.getSlideItemId(e)),c=s.poster,h=s.srcset,f=s.sizes,m=s.sources,g=s.src,v=s.video,p=v&&typeof v=="string"?JSON.parse(v):v;if(s.responsive){var C=s.responsive.split(",");g=q.getResponsiveSrc(C)||g}var b=s.__slideVideoInfo,T="",S=!!s.iframe,_=!this.lGalleryOn,I=0;if(_&&(this.zoomFromOrigin&&this.currentImageSize?I=this.settings.startAnimationDuration+10:I=this.settings.backdropDuration+10),!o.hasClass("lg-loaded")){if(b){var x=this.mediaContainerPosition,D=x.top,F=x.bottom,B=q.getSize(this.items[e],this.outer,D+F,b&&this.settings.videoMaxSize);T=this.getVideoContStyle(B)}if(S){var H=q.getIframeMarkup(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,g,s.iframeTitle);o.prepend(H)}else if(c){var U="",ee=_&&this.zoomFromOrigin&&this.currentImageSize;ee&&(U=this.getDummyImageContent(o,e,""));var H=q.getVideoPosterMarkup(c,U||"",T,this.settings.strings.playVideo,b);o.prepend(H)}else if(b){var H='<div class="lg-video-cont " style="'+T+'"></div>';o.prepend(H)}else if(this.setImgMarkup(g,o,e),h||m){var se=o.find(".lg-object");this.initPictureFill(se)}(c||b)&&this.LGel.trigger(z.hasVideo,{index:e,src:g,html5Video:p,hasPoster:!!c}),this.LGel.trigger(z.afterAppendSlide,{index:e}),this.lGalleryOn&&this.settings.appendSubHtmlTo===".lg-item"&&this.addHtml(e)}var fe=0;I&&!k(document.body).hasClass("lg-from-hash")&&(fe=I),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){o.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),o.hasClass("lg-loaded")||setTimeout(function(){if(i.getSlideType(s)==="image"){var ce=s.alt,we=ce?'alt="'+ce+'"':"";if(o.find(".lg-img-wrap").append(q.getImgMarkup(e,g,we,h,f,s.sources)),h||m){var lt=o.find(".lg-object");i.initPictureFill(lt)}}(i.getSlideType(s)==="image"||i.getSlideType(s)==="video"&&c)&&(i.onLgObjectLoad(o,e,I,fe,!0,!1),i.onSlideObjectLoad(o,!!(b&&b.html5&&!c),function(){i.loadContentOnFirstSlideLoad(e,o,fe)},function(){i.loadContentOnFirstSlideLoad(e,o,fe)}))},this.settings.startAnimationDuration+100)),o.addClass("lg-loaded"),(!this.isFirstSlideWithZoomAnimation()||this.getSlideType(s)==="video"&&!c)&&this.onLgObjectLoad(o,e,I,fe,_,!!(b&&b.html5&&!c)),(!this.zoomFromOrigin||!this.currentImageSize)&&o.hasClass("lg-complete_")&&!this.lGalleryOn&&setTimeout(function(){o.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,t===!0&&(o.hasClass("lg-complete_")?this.preload(e):o.find(".lg-object").first().on("load.lg error.lg",function(){i.preload(e)}))},n.prototype.loadContentOnFirstSlideLoad=function(e,t,i){var s=this;setTimeout(function(){t.find(".lg-dummy-img").remove(),t.removeClass("lg-first-slide"),s.outer.removeClass("lg-first-slide-loading"),s.isDummyImageRemoved=!0,s.preload(e)},i+300)},n.prototype.getItemsToBeInsertedToDom=function(e,t,i){var s=this;i===void 0&&(i=0);var o=[],c=Math.max(i,3);c=Math.min(c,this.galleryItems.length);var h="lg-item-"+this.lgId+"-"+t;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(g,v){o.push("lg-item-"+s.lgId+"-"+v)}),o;if(e<(this.galleryItems.length-1)/2){for(var f=e;f>e-c/2&&f>=0;f--)o.push("lg-item-"+this.lgId+"-"+f);for(var m=o.length,f=0;f<c-m;f++)o.push("lg-item-"+this.lgId+"-"+(e+f+1))}else{for(var f=e;f<=this.galleryItems.length-1&&f<e+c/2;f++)o.push("lg-item-"+this.lgId+"-"+f);for(var m=o.length,f=0;f<c-m;f++)o.push("lg-item-"+this.lgId+"-"+(e-f-1))}return this.settings.loop&&(e===this.galleryItems.length-1?o.push("lg-item-"+this.lgId+"-0"):e===0&&o.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),o.indexOf(h)===-1&&o.push("lg-item-"+this.lgId+"-"+t),o},n.prototype.organizeSlideItems=function(e,t){var i=this,s=this.getItemsToBeInsertedToDom(e,t,this.settings.numberOfSlideItemsInDom);return s.forEach(function(o){i.currentItemsInDom.indexOf(o)===-1&&i.$inner.append('<div id="'+o+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(o){s.indexOf(o)===-1&&k("#"+o).remove()}),s},n.prototype.getPreviousSlideIndex=function(){var e=0;try{var t=this.outer.find(".lg-current").first().attr("id");e=parseInt(t.split("-")[3])||0}catch{e=0}return e},n.prototype.setDownloadValue=function(e){if(this.settings.download){var t=this.galleryItems[e],i=t.downloadUrl===!1||t.downloadUrl==="false";if(i)this.outer.addClass("lg-hide-download");else{var s=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),s.attr("href",t.downloadUrl||t.src),t.download&&s.attr("download",t.download)}}},n.prototype.makeSlideAnimation=function(e,t,i){var s=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout(function(){s.outer.addClass("lg-no-trans"),s.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),e==="prev"?(t.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(t.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout(function(){s.outer.find(".lg-item").removeClass("lg-current"),t.addClass("lg-current"),s.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},n.prototype.slide=function(e,t,i,s){var o=this,c=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,c),!(this.lGalleryOn&&c===e)){var h=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(e);var f=this.getSlideItem(e),m=this.getSlideItem(c),g=this.galleryItems[e],v=g.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(g)),this.setDownloadValue(e),v){var p=this.mediaContainerPosition,C=p.top,b=p.bottom,T=q.getSize(this.items[e],this.outer,C+b,v&&this.settings.videoMaxSize);this.resizeVideoSlide(e,T)}if(this.LGel.trigger(z.beforeSlide,{prevIndex:c,index:e,fromTouch:!!t,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),s||(e<c?s="prev":e>c&&(s="next")),!t)this.makeSlideAnimation(s,f,m);else{this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var S=void 0,_=void 0;h>2?(S=e-1,_=e+1,(e===0&&c===h-1||e===h-1&&c===0)&&(_=0,S=h-1)):(S=0,_=1),s==="prev"?this.getSlideItem(_).addClass("lg-next-slide"):this.getSlideItem(S).addClass("lg-prev-slide"),f.addClass("lg-current")}this.lGalleryOn?setTimeout(function(){o.loadContent(e,!0),o.settings.appendSubHtmlTo!==".lg-item"&&o.addHtml(e)},this.settings.speed+50+(t?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout(function(){o.lgBusy=!1,m.removeClass("lg-slide-progress"),o.LGel.trigger(z.afterSlide,{prevIndex:c,index:e,fromTouch:t,fromThumb:i})},(this.lGalleryOn?this.settings.speed+100:100)+(t?0:this.settings.slideDelay))}this.index=e}},n.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},n.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},n.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},n.prototype.touchMove=function(e,t,i){var s=t.pageX-e.pageX,o=t.pageY-e.pageY,c=!1;if(this.swipeDirection?c=!0:Math.abs(s)>15?(this.swipeDirection="horizontal",c=!0):Math.abs(o)>15&&(this.swipeDirection="vertical",c=!0),!!c){var h=this.getSlideItem(this.index);if(this.swipeDirection==="horizontal"){i==null||i.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(h,s,0);var f=h.get().offsetWidth,m=f*15/100,g=m-Math.abs(s*10/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-f+s-g,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),f+s+g,0)}else if(this.swipeDirection==="vertical"&&this.settings.swipeToClose){i==null||i.preventDefault(),this.$container.addClass("lg-dragging-vertical");var v=1-Math.abs(o)/window.innerHeight;this.$backdrop.css("opacity",v);var p=1-Math.abs(o)/(window.innerWidth*2);this.setTranslate(h,0,o,p,p),Math.abs(o)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},n.prototype.touchEnd=function(e,t,i){var s=this,o;this.settings.mode!=="lg-slide"&&this.outer.addClass("lg-slide"),setTimeout(function(){s.$container.removeClass("lg-dragging-vertical"),s.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var c=!0;if(s.swipeDirection==="horizontal"){o=e.pageX-t.pageX;var h=Math.abs(e.pageX-t.pageX);o<0&&h>s.settings.swipeThreshold?(s.goToNextSlide(!0),c=!1):o>0&&h>s.settings.swipeThreshold&&(s.goToPrevSlide(!0),c=!1)}else if(s.swipeDirection==="vertical")if(o=Math.abs(e.pageY-t.pageY),s.settings.closable&&s.settings.swipeToClose&&o>100){s.closeGallery();return}else s.$backdrop.css("opacity",1);if(s.outer.find(".lg-item").removeAttr("style"),c&&Math.abs(e.pageX-t.pageX)<5){var f=k(i.target);s.isPosterElement(f)&&s.LGel.trigger(z.posterClick)}s.swipeDirection=void 0}),setTimeout(function(){!s.outer.hasClass("lg-dragging")&&s.settings.mode!=="lg-slide"&&s.outer.removeClass("lg-slide")},this.settings.speed+100)},n.prototype.enableSwipe=function(){var e=this,t={},i={},s=!1,o=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(c){e.dragOrSwipeEnabled=!0;var h=e.getSlideItem(e.index);(k(c.target).hasClass("lg-item")||h.get().contains(c.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&c.touches.length===1&&(o=!0,e.touchAction="swipe",e.manageSwipeClass(),t={pageX:c.touches[0].pageX,pageY:c.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(c){o&&e.touchAction==="swipe"&&c.touches.length===1&&(i={pageX:c.touches[0].pageX,pageY:c.touches[0].pageY},e.touchMove(t,i,c),s=!0)}),this.$inner.on("touchend.lg",function(c){if(e.touchAction==="swipe"){if(s)s=!1,e.touchEnd(i,t,c);else if(o){var h=k(c.target);e.isPosterElement(h)&&e.LGel.trigger(z.posterClick)}e.touchAction=void 0,o=!1}}))},n.prototype.enableDrag=function(){var e=this,t={},i={},s=!1,o=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(c){e.dragOrSwipeEnabled=!0;var h=e.getSlideItem(e.index);(k(c.target).hasClass("lg-item")||h.get().contains(c.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&(c.preventDefault(),e.lgBusy||(e.manageSwipeClass(),t={pageX:c.pageX,pageY:c.pageY},s=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("lg-grab").addClass("lg-grabbing"),e.LGel.trigger(z.dragStart)))}),k(window).on("mousemove.lg.global"+this.lgId,function(c){s&&e.lgOpened&&(o=!0,i={pageX:c.pageX,pageY:c.pageY},e.touchMove(t,i),e.LGel.trigger(z.dragMove))}),k(window).on("mouseup.lg.global"+this.lgId,function(c){if(e.lgOpened){var h=k(c.target);o?(o=!1,e.touchEnd(i,t,c),e.LGel.trigger(z.dragEnd)):e.isPosterElement(h)&&e.LGel.trigger(z.posterClick),s&&(s=!1,e.outer.removeClass("lg-grabbing").addClass("lg-grab"))}}))},n.prototype.triggerPosterClick=function(){var e=this;this.$inner.on("click.lg",function(t){!e.dragOrSwipeEnabled&&e.isPosterElement(k(t.target))&&e.LGel.trigger(z.posterClick)})},n.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(this.index===0?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),t>-1&&this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},n.prototype.goToNextSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(z.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):i?(this.index=0,this.LGel.trigger(z.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout(function(){t.outer.removeClass("lg-right-end")},400)))},n.prototype.goToPrevSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(z.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(z.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout(function(){t.outer.removeClass("lg-left-end")},400)))},n.prototype.keyPress=function(){var e=this;k(window).on("keydown.lg.global"+this.lgId,function(t){e.lgOpened&&e.settings.escKey===!0&&t.keyCode===27&&(t.preventDefault(),e.settings.allowMediaOverlap&&e.outer.hasClass("lg-can-toggle")&&e.outer.hasClass("lg-components-open")?e.outer.removeClass("lg-components-open"):e.closeGallery()),e.lgOpened&&e.galleryItems.length>1&&(t.keyCode===37&&(t.preventDefault(),e.goToPrevSlide()),t.keyCode===39&&(t.preventDefault(),e.goToNextSlide()))})},n.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){e.goToNextSlide()})},n.prototype.arrowDisable=function(e){if(!this.settings.loop&&this.settings.hideControlOnEnd){var t=this.getElementById("lg-prev"),i=this.getElementById("lg-next");e+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),e===0?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled")}},n.prototype.setTranslate=function(e,t,i,s,o){s===void 0&&(s=1),o===void 0&&(o=1),e.css("transform","translate3d("+t+"px, "+i+"px, 0px) scale3d("+s+", "+o+", 1)")},n.prototype.mousewheel=function(){var e=this,t=0;this.outer.on("wheel.lg",function(i){if(!(!i.deltaY||e.galleryItems.length<2)){i.preventDefault();var s=new Date().getTime();s-t<1e3||(t=s,i.deltaY>0?e.goToNextSlide():i.deltaY<0&&e.goToPrevSlide())}})},n.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")},n.prototype.isPosterElement=function(e){var t=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||t&&t.contains(e.get())},n.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()})},n.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e],i=k(t);i.off("click.lgcustom-item-"+i.attr("data-lg-id"))}},n.prototype.trapFocus=function(){var e=this;this.$container.get().focus({preventScroll:!0}),k(window).on("keydown.lg.global"+this.lgId,function(t){if(e.lgOpened){var i=t.key==="Tab"||t.keyCode===9;if(i){var s=q.getFocusableElements(e.$container.get()),o=s[0],c=s[s.length-1];t.shiftKey?document.activeElement===o&&(c.focus(),t.preventDefault()):document.activeElement===c&&(o.focus(),t.preventDefault())}}})},n.prototype.manageCloseGallery=function(){var e=this;if(this.settings.closable){var t=!1;this.getElementById("lg-close").on("click.lg",function(){e.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(i){var s=k(i.target);e.isSlideElement(s)?t=!0:t=!1}),this.outer.on("mousemove.lg",function(){t=!1}),this.outer.on("mouseup.lg",function(i){var s=k(i.target);e.isSlideElement(s)&&t&&(e.outer.hasClass("lg-dragging")||e.closeGallery())}))}},n.prototype.closeGallery=function(e){var t=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger(z.beforeClose),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&k(window).scrollTop(this.prevScrollTop);var i=this.items[this.index],s;if(this.zoomFromOrigin&&i){var o=this.mediaContainerPosition,c=o.top,h=o.bottom,f=this.galleryItems[this.index],m=f.__slideVideoInfo,g=f.poster,v=q.getSize(i,this.outer,c+h,m&&g&&this.settings.videoMaxSize);s=q.getTransform(i,this.outer,c,h,v)}this.zoomFromOrigin&&s?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",s)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,k("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var p=this.zoomFromOrigin&&s?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){t.zoomFromOrigin&&s&&t.outer.removeClass("lg-zoom-from-image"),t.$container.removeClass("lg-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.settings.backdropDuration+"ms"),t.outer.removeClass("lg-closing "+t.settings.startClass),t.getSlideItem(t.index).removeClass("lg-start-end-progress"),t.$inner.empty(),t.lgOpened&&t.LGel.trigger(z.afterClose,{instance:t}),t.$container.get()&&t.$container.get().blur(),t.lgOpened=!1},p+100),p+100},n.prototype.initModules=function(){this.plugins.forEach(function(e){try{e.init()}catch{console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},n.prototype.destroyModules=function(e){this.plugins.forEach(function(t){try{e?t.destroy():t.closeGallery&&t.closeGallery()}catch{console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},n.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),e?this.galleryItems=e:this.galleryItems=this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(z.updateSlides)},n.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},n.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),k(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},n.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},n}();function za(n,e){return new Na(n,e)}/*!
 * lightgallery | 2.7.2 | September 20th 2023
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ke=function(){return Ke=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ke.apply(this,arguments)},Da={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},ke={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},Ma=function(){function n(e,t){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=e,this.$LG=t,this}return n.prototype.init=function(){this.settings=Ke(Ke({},Da),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},n.prototype.build=function(){var e=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",function(t){var i=e.$LG(t.target);i.hasAttribute("data-lg-item-id")&&setTimeout(function(){if(e.thumbClickable&&!e.core.lgBusy){var s=parseInt(i.attr("data-lg-item-id"));e.core.slide(s,!1,!0,!1)}},50)}),this.core.LGel.on(ke.beforeSlide+".thumb",function(t){var i=t.detail.index;e.animateThumb(i)}),this.core.LGel.on(ke.beforeOpen+".thumb",function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth}),this.core.LGel.on(ke.updateSlides+".thumb",function(){e.rebuildThumbnails()}),this.core.LGel.on(ke.containerResize+".thumb",function(){e.core.lgOpened&&setTimeout(function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth,e.animateThumb(e.core.index),e.thumbOuterWidth=e.core.outer.get().offsetWidth},50)})},n.prototype.setThumbMarkup=function(){var e="lg-thumb-outer ";this.settings.alignThumbnails&&(e+="lg-thumb-align-"+this.settings.alignThumbnails);var t='<div class="'+e+`">
        <div class="lg-thumb lg-group">
        </div>
        </div>`;this.core.outer.addClass("lg-has-thumb"),this.settings.appendThumbnailsTo===".lg-components"?this.core.$lgComponents.append(t):this.core.outer.append(t),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},n.prototype.enableThumbDrag=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},i=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",function(s){e.thumbTotalWidth>e.thumbOuterWidth&&(s.preventDefault(),t.cords.startX=s.pageX,t.startTime=new Date,e.thumbClickable=!1,i=!0,e.core.outer.get().scrollLeft+=1,e.core.outer.get().scrollLeft-=1,e.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,function(s){e.core.lgOpened&&i&&(t.cords.endX=s.pageX,t=e.onThumbTouchMove(t))}),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,function(){e.core.lgOpened&&(t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0,i&&(i=!1,e.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")))})},n.prototype.enableThumbSwipe=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t.cords.startX=i.targetTouches[0].pageX,e.thumbClickable=!1,t.startTime=new Date)}),this.$lgThumb.on("touchmove.lg",function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t.cords.endX=i.targetTouches[0].pageX,t=e.onThumbTouchMove(t))}),this.$lgThumb.on("touchend.lg",function(){t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0})},n.prototype.rebuildThumbnails=function(){var e=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout(function(){e.thumbTotalWidth=e.core.galleryItems.length*(e.settings.thumbWidth+e.settings.thumbMargin),e.$lgThumb.css("width",e.thumbTotalWidth+"px"),e.$lgThumb.empty(),e.setThumbItemHtml(e.core.galleryItems),e.animateThumb(e.core.index)},50),setTimeout(function(){e.$thumbOuter.removeClass("lg-rebuilding-thumbnails")},200)},n.prototype.setTranslate=function(e){this.$lgThumb.css("transform","translate3d(-"+e+"px, 0px, 0px)")},n.prototype.getPossibleTransformX=function(e){return e>this.thumbTotalWidth-this.thumbOuterWidth&&(e=this.thumbTotalWidth-this.thumbOuterWidth),e<0&&(e=0),e},n.prototype.animateThumb=function(e){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var t=0;switch(this.settings.currentPagerPosition){case"left":t=0;break;case"middle":t=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":t=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*e-1-t,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},n.prototype.onThumbTouchMove=function(e){return e.newTranslateX=this.translateX,e.isMoved=!0,e.touchMoveTime=new Date().valueOf(),e.newTranslateX-=e.cords.endX-e.cords.startX,e.newTranslateX=this.getPossibleTransformX(e.newTranslateX),this.setTranslate(e.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),e},n.prototype.onThumbTouchEnd=function(e){e.isMoved=!1,e.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var t=e.endTime.valueOf()-e.startTime.valueOf(),i=e.cords.endX-e.cords.startX,s=Math.abs(i)/t;return s>.15&&e.endTime.valueOf()-e.touchMoveTime<30?(s+=1,s>2&&(s+=1),s=s+s*(Math.abs(i)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(s-1,2)+"settings"),i=i*s,this.translateX=this.getPossibleTransformX(this.translateX-i),this.setTranslate(this.translateX)):this.translateX=e.newTranslateX,Math.abs(e.cords.endX-e.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),e},n.prototype.getThumbHtml=function(e,t,i){var s=this.core.galleryItems[t].__slideVideoInfo||{},o;s.youtube&&this.settings.loadYouTubeThumbnail?o="//img.youtube.com/vi/"+s.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":o=e;var c=i?'alt="'+i+'"':"";return'<div data-lg-item-id="'+t+'" class="lg-thumb-item '+(t===this.core.index?" active":"")+`"
        style="width:`+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+`;
            margin-right: `+this.settings.thumbMargin+`px;">
            <img `+c+' data-lg-item-id="'+t+'" src="'+o+`" />
        </div>`},n.prototype.getThumbItemHtml=function(e){for(var t="",i=0;i<e.length;i++)t+=this.getThumbHtml(e[i].thumb,i,e[i].alt);return t},n.prototype.setThumbItemHtml=function(e){var t=this.getThumbItemHtml(e);this.$lgThumb.html(t)},n.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},n.prototype.manageActiveClassOnSlideChange=function(){var e=this;this.core.LGel.on(ke.beforeSlide+".thumb",function(t){var i=e.core.outer.find(".lg-thumb-item"),s=t.detail.index;i.removeClass("active"),i.eq(s).addClass("active")})},n.prototype.toggleThumbBar=function(){var e=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",function(){e.core.outer.toggleClass("lg-components-open")}))},n.prototype.thumbKeyPress=function(){var e=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,function(t){!e.core.lgOpened||!e.settings.toggleThumb||(t.keyCode===38?(t.preventDefault(),e.core.outer.addClass("lg-components-open")):t.keyCode===40&&(t.preventDefault(),e.core.outer.removeClass("lg-components-open")))})},n.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))},n}();/*!
 * lightgallery | 2.7.2 | September 20th 2023
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ze=function(){return Ze=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ze.apply(this,arguments)},Ba={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},le={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},It=500,Ha=function(){function n(e,t){return this.core=e,this.$LG=t,this.settings=Ze(Ze({},Ba),this.core.settings),this}return n.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},n.prototype.enableZoom=function(e){var t=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){t.isImageSlide(t.core.index)&&(t.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===t.core.index&&t.setZoomEssentials())},i+30)},n.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(le.slideItemLoad+".zoom",this.enableZoom.bind(this))},n.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},n.prototype.getSwipeCords=function(e){var t=e.touches[0].pageX,i=e.touches[0].pageY;return{x:t,y:i}},n.prototype.getDragAllowedAxises=function(e,t){var i=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),s=0,o=0,c=i.getBoundingClientRect();e?(s=i.offsetHeight*e,o=i.offsetWidth*e):t?(s=c.height+t*c.height,o=c.width+t*c.width):(s=c.height,o=c.width);var h=s>this.containerRect.height,f=o>this.containerRect.width;return{allowX:f,allowY:h}},n.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},n.prototype.zoomImage=function(e,t,i,s){if(!(Math.abs(t)<=0)){var o=this.containerRect.width/2+this.containerRect.left,c=this.containerRect.height/2+this.containerRect.top+this.scrollTop,h,f;e===1&&(this.positionChanged=!1);var m=this.getDragAllowedAxises(0,t),g=m.allowY,v=m.allowX;this.positionChanged&&(h=this.left/(this.scale-t),f=this.top/(this.scale-t),this.pageX=o-h,this.pageY=c-f,this.positionChanged=!1);var p=this.getPossibleSwipeDragCords(t),C,b,T=o-this.pageX,S=c-this.pageY;if(e-t>1){var _=(e-t)/Math.abs(t);T=(t<0?-T:T)+this.left*(_+(t<0?-1:1)),S=(t<0?-S:S)+this.top*(_+(t<0?-1:1)),C=T/_,b=S/_}else{var _=(e-t)*t;C=T*_,b=S*_}i&&(v?this.isBeyondPossibleLeft(C,p.minX)?C=p.minX:this.isBeyondPossibleRight(C,p.maxX)&&(C=p.maxX):e>1&&(C<p.minX?C=p.minX:C>p.maxX&&(C=p.maxX)),g?this.isBeyondPossibleTop(b,p.minY)?b=p.minY:this.isBeyondPossibleBottom(b,p.maxY)&&(b=p.maxY):e>1&&(b<p.minY?b=p.minY:b>p.maxY&&(b=p.maxY))),this.setZoomStyles({x:C,y:b,scale:e}),this.left=C,this.top=b,s&&this.setZoomImageSize()}},n.prototype.resetImageTranslate=function(e){if(this.isImageSlide(e)){var t=this.core.getSlideItem(e).find(".lg-image").first();this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),t.css("width","auto").css("height","auto"),setTimeout(function(){t.removeClass("no-transition")},10)}},n.prototype.setZoomImageSize=function(){var e=this,t=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var i=e.getCurrentImageActualSizeScale();e.scale>=i&&(t.addClass("no-transition"),e.imageReset=!0)},It),setTimeout(function(){var i=e.getCurrentImageActualSizeScale();if(e.scale>=i){var s=e.getDragAllowedAxises(e.scale);t.css("width",t.get().naturalWidth+"px").css("height",t.get().naturalHeight+"px"),e.core.outer.addClass("lg-actual-size"),s.allowX&&s.allowY?t.addClass("reset-transition"):s.allowX&&!s.allowY?t.addClass("reset-transition-x"):!s.allowX&&s.allowY&&t.addClass("reset-transition-y")}},It+50)},n.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),s=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=e.scale,i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),s.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var o="translate3d("+e.x+"px, "+e.y+"px, 0)";t.css("transform",o)},n.prototype.setActualSize=function(e,t){var i=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var s=this.core.galleryItems[this.core.index];this.resetImageTranslate(e),setTimeout(function(){if(!(!s.src||i.core.outer.hasClass("lg-first-slide-loading"))){var o=i.getCurrentImageActualSizeScale(),c=i.scale;i.core.outer.hasClass("lg-zoomed")?i.scale=1:i.scale=i.getScale(o),i.setPageCords(t),i.beginZoom(i.scale),i.zoomImage(i.scale,i.scale-c,!0,!0)}},50),setTimeout(function(){i.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){i.zoomInProgress=!1},It+110)}},n.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),i=this.core.galleryItems[e].width;return i?parseFloat(i):t.get().naturalWidth},n.prototype.getActualSizeScale=function(e,t){var i,s;return e>=t?(i=e/t,s=i||2):s=1,s},n.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first(),t=e.get().offsetWidth,i=this.getNaturalWidth(this.core.index)||t;return this.getActualSizeScale(i,t)},n.prototype.getPageCords=function(e){var t={};if(e)t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY;else{var i=this.core.$content.get().getBoundingClientRect();t.x=i.width/2+i.left,t.y=i.height/2+this.scrollTop+i.top}return t},n.prototype.setPageCords=function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y},n.prototype.manageActualPixelClassNames=function(){var e=this.core.getElementById("lg-actual-size");e.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},n.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1},n.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e},n.prototype.init=function(){var e=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.core.outer.on("dblclick.lg",function(i){e.$LG(i.target).hasClass("lg-image")&&e.setActualSize(e.core.index,i)}),this.core.outer.on("touchstart.lg",function(i){var s=e.$LG(i.target);i.touches.length===1&&s.hasClass("lg-image")&&(t?(clearTimeout(t),t=null,i.preventDefault(),e.setActualSize(e.core.index,i)):t=setTimeout(function(){t=null},300))}),this.core.LGel.on(le.containerResize+".zoom "+le.rotateRight+".zoom "+le.rotateLeft+".zoom "+le.flipHorizontal+".zoom "+le.flipVertical+".zoom",function(){if(!(!e.core.lgOpened||!e.isImageSlide(e.core.index)||e.core.touchAction)){var i=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(i,{x:0,y:0}),e.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){e.core.lgOpened&&(e.scrollTop=e.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(e.isImageSlide(e.core.index)){var i=0;e.imageReset&&(e.resetImageTranslate(e.core.index),i=50),setTimeout(function(){var s=e.scale-e.settings.scale;s<1&&(s=1),e.beginZoom(s),e.zoomImage(s,-e.settings.scale,!0,!e.settings.infiniteZoom)},i)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){e.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){e.setActualSize(e.core.index)}),this.core.LGel.on(le.beforeOpen+".zoom",function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(le.afterOpen+".zoom",function(){e.scrollTop=e.$LG(window).scrollTop(),e.pageX=e.core.outer.width()/2,e.pageY=e.core.outer.height()/2+e.scrollTop,e.scale=1}),this.core.LGel.on(le.afterSlide+".zoom",function(i){var s=i.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.zoomInProgress=!1,e.resetZoom(s),e.resetImageTranslate(s),e.isImageSlide(e.core.index)&&e.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},n.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var e=this.scale+this.settings.scale;this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom)}},n.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),i=this.core.getSlideItem(e!==void 0?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),i.find(".lg-img-wrap").first().removeAttr("style"),i.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},n.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},n.prototype.pinchZoom=function(){var e=this,t=0,i=!1,s=1,o=0,c=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(h){if(c=e.core.getSlideItem(e.core.index),!!e.isImageSlide(e.core.index)&&h.touches.length===2){if(h.preventDefault(),e.core.outer.hasClass("lg-first-slide-loading"))return;s=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.setPageCords(h),e.resetImageTranslate(e.core.index),e.core.touchAction="pinch",t=e.getTouchDistance(h)}}),this.core.$inner.on("touchmove.lg",function(h){if(h.touches.length===2&&e.core.touchAction==="pinch"&&(e.$LG(h.target).hasClass("lg-item")||c.get().contains(h.target))){h.preventDefault();var f=e.getTouchDistance(h),m=t-f;if(!i&&Math.abs(m)>5&&(i=!0),i){o=e.scale;var g=Math.max(1,s+-m*.02);e.scale=Math.round((g+Number.EPSILON)*100)/100;var v=e.scale-o;e.zoomImage(e.scale,Math.round((v+Number.EPSILON)*100)/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(h){if(e.core.touchAction==="pinch"&&(e.$LG(h.target).hasClass("lg-item")||c.get().contains(h.target))){if(i=!1,t=0,e.scale<=1)e.resetZoom();else{var f=e.getCurrentImageActualSizeScale();if(e.scale>=f){var m=f-e.scale;m===0&&(m=.01),e.zoomImage(f,m,!1,!0)}e.manageActualPixelClassNames(),e.core.outer.addClass("lg-zoomed")}e.core.touchAction=void 0}})},n.prototype.touchendZoom=function(e,t,i,s,o){var c=t.x-e.x,h=t.y-e.y,f=Math.abs(c)/o+1,m=Math.abs(h)/o+1;f>2&&(f+=1),m>2&&(m+=1),c=c*f,h=h*m;var g=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),v={};v.x=this.left+c,v.y=this.top+h;var p=this.getPossibleSwipeDragCords();(Math.abs(c)>15||Math.abs(h)>15)&&(s&&(this.isBeyondPossibleTop(v.y,p.minY)?v.y=p.minY:this.isBeyondPossibleBottom(v.y,p.maxY)&&(v.y=p.maxY)),i&&(this.isBeyondPossibleLeft(v.x,p.minX)?v.x=p.minX:this.isBeyondPossibleRight(v.x,p.maxX)&&(v.x=p.maxX)),s?this.top=v.y:v.y=this.top,i?this.left=v.x:v.x=this.left,this.setZoomSwipeStyles(g,v),this.positionChanged=!0)},n.prototype.getZoomSwipeCords=function(e,t,i,s,o){var c={};if(s){if(c.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(c.y,o.minY)){var h=o.minY-c.y;c.y=o.minY-h/6}else if(this.isBeyondPossibleBottom(c.y,o.maxY)){var f=c.y-o.maxY;c.y=o.maxY+f/6}}else c.y=this.top;if(i){if(c.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(c.x,o.minX)){var m=o.minX-c.x;c.x=o.minX-m/6}else if(this.isBeyondPossibleRight(c.x,o.maxX)){var g=c.x-o.maxX;c.x=o.maxX+g/6}}else c.x=this.left;return c},n.prototype.isBeyondPossibleLeft=function(e,t){return e>=t},n.prototype.isBeyondPossibleRight=function(e,t){return e<=t},n.prototype.isBeyondPossibleTop=function(e,t){return e>=t},n.prototype.isBeyondPossibleBottom=function(e,t){return e<=t},n.prototype.isImageSlide=function(e){var t=this.core.galleryItems[e];return this.core.getSlideType(t)==="image"},n.prototype.getPossibleSwipeDragCords=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.mediaContainerPosition.bottom,s=t.get().getBoundingClientRect(),o=s.height,c=s.width;e&&(o=o+e*o,c=c+e*c);var h=(o-this.containerRect.height)/2,f=(this.containerRect.height-o)/2+i,m=(c-this.containerRect.width)/2,g=(this.containerRect.width-c)/2,v={minY:h,maxY:f,minX:m,maxX:g};return v},n.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},n.prototype.zoomSwipe=function(){var e=this,t={},i={},s=!1,o=!1,c=!1,h=new Date,f=new Date,m,g,v=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(p){if(e.isImageSlide(e.core.index)&&(v=e.core.getSlideItem(e.core.index),(e.$LG(p.target).hasClass("lg-item")||v.get().contains(p.target))&&p.touches.length===1&&e.core.outer.hasClass("lg-zoomed"))){p.preventDefault(),h=new Date,e.core.touchAction="zoomSwipe",g=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var C=e.getDragAllowedAxises(0);c=C.allowY,o=C.allowX,(o||c)&&(t=e.getSwipeCords(p)),m=e.getPossibleSwipeDragCords(),e.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(p){if(p.touches.length===1&&e.core.touchAction==="zoomSwipe"&&(e.$LG(p.target).hasClass("lg-item")||v.get().contains(p.target))){p.preventDefault(),e.core.touchAction="zoomSwipe",i=e.getSwipeCords(p);var C=e.getZoomSwipeCords(t,i,o,c,m);(Math.abs(i.x-t.x)>15||Math.abs(i.y-t.y)>15)&&(s=!0,e.setZoomSwipeStyles(g,C))}}),this.core.$inner.on("touchend.lg",function(p){if(e.core.touchAction==="zoomSwipe"&&(e.$LG(p.target).hasClass("lg-item")||v.get().contains(p.target))){if(p.preventDefault(),e.core.touchAction=void 0,e.core.outer.removeClass("lg-zoom-dragging"),!s)return;s=!1,f=new Date;var C=f.valueOf()-h.valueOf();e.touchendZoom(t,i,o,c,C)}})},n.prototype.zoomDrag=function(){var e=this,t={},i={},s=!1,o=!1,c=!1,h=!1,f,m,g,v;this.core.outer.on("mousedown.lg.zoom",function(p){if(e.isImageSlide(e.core.index)){var C=e.core.getSlideItem(e.core.index);if(e.$LG(p.target).hasClass("lg-item")||C.get().contains(p.target)){f=new Date,v=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var b=e.getDragAllowedAxises(0);h=b.allowY,c=b.allowX,e.core.outer.hasClass("lg-zoomed")&&e.$LG(p.target).hasClass("lg-object")&&(c||h)&&(p.preventDefault(),t=e.getDragCords(p),g=e.getPossibleSwipeDragCords(),s=!0,e.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(p){if(s){o=!0,i=e.getDragCords(p);var C=e.getZoomSwipeCords(t,i,c,h,g);e.setZoomSwipeStyles(v,C)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(p){if(s){if(m=new Date,s=!1,e.core.outer.removeClass("lg-zoom-dragging"),o&&(t.x!==i.x||t.y!==i.y)){i=e.getDragCords(p);var C=m.valueOf()-f.valueOf();e.touchendZoom(t,i,c,h,C)}o=!1}e.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},n.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},n.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},n}();/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=["user","model","function","system"];var Bn;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Bn||(Bn={}));var Hn;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Hn||(Hn={}));var Fn;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Fn||(Fn={}));var jn;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(jn||(jn={}));var Qe;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.OTHER="OTHER"})(Qe||(Qe={}));var $n;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})($n||($n={}));var Un;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Un||(Un={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn;(function(n){n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT"})(Gn||(Gn={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ce extends J{constructor(e,t){super(e),this.response=t}}class qn extends J{constructor(e,t,i,s){super(e),this.status=t,this.statusText=i,this.errorDetails=s}}class Ue extends J{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="https://generativelanguage.googleapis.com",ja="v1beta",$a="0.12.0",Ua="genai-js";var be;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(be||(be={}));class _i{constructor(e,t,i,s,o){this.model=e,this.task=t,this.apiKey=i,this.stream=s,this.requestOptions=o}toString(){var e,t;const i=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||ja;let o=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||Fa}/${i}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function Ga(n){const e=[];return n!=null&&n.apiClient&&e.push(n.apiClient),e.push(`${Ua}/${$a}`),e.join(" ")}async function qa(n){const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",Ga(n.requestOptions)),e.append("x-goog-api-key",n.apiKey);let t=n.requestOptions.customHeaders;if(t){if(!(t instanceof Headers))try{t=new Headers(t)}catch(i){throw new Ue(`unable to convert customHeaders value ${JSON.stringify(t)} to Headers: ${i.message}`)}for(const[i,s]of t.entries()){if(i==="x-goog-api-key")throw new Ue(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ue(`Header name ${i} can only be set using the apiClient field`);e.append(i,s)}}return e}async function Xa(n,e,t,i,s,o){const c=new _i(n,e,t,i,o);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},Ya(o)),{method:"POST",headers:await qa(c),body:s})}}async function Ne(n,e,t,i,s,o){return Wa(n,e,t,i,s,o,fetch)}async function Wa(n,e,t,i,s,o,c=fetch){const h=new _i(n,e,t,i,o);let f;try{const m=await Xa(n,e,t,i,s,o);if(f=await c(m.url,m.fetchOptions),!f.ok){let g="",v;try{const p=await f.json();g=p.error.message,p.error.details&&(g+=` ${JSON.stringify(p.error.details)}`,v=p.error.details)}catch{}throw new qn(`Error fetching from ${h.toString()}: [${f.status} ${f.statusText}] ${g}`,f.status,f.statusText,v)}}catch(m){let g=m;throw m instanceof qn||m instanceof Ue||(g=new J(`Error fetching from ${h.toString()}: ${m.message}`),g.stack=m.stack),g}return f}function Ya(n){const e={};if((n==null?void 0:n.timeout)>=0){const t=new AbortController,i=t.signal;setTimeout(()=>t.abort(),n.timeout),e.signal=i}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ge(n.candidates[0]))throw new Ce(`${de(n)}`,n);return Va(n)}else if(n.promptFeedback)throw new Ce(`Text not available. ${de(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ge(n.candidates[0]))throw new Ce(`${de(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Xn(n)[0]}else if(n.promptFeedback)throw new Ce(`Function call not available. ${de(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ge(n.candidates[0]))throw new Ce(`${de(n)}`,n);return Xn(n)}else if(n.promptFeedback)throw new Ce(`Function call not available. ${de(n)}`,n)},n}function Va(n){var e,t,i,s;const o=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(s=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)c.text&&o.push(c.text);return o.length>0?o.join(""):""}function Xn(n){var e,t,i,s;const o=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(s=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)c.functionCall&&o.push(c.functionCall);if(o.length>0)return o}const Ja=[Qe.RECITATION,Qe.SAFETY];function Ge(n){return!!n.finishReason&&Ja.includes(n.finishReason)}function de(n){var e,t,i;let s="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)s+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(s+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((i=n.candidates)===null||i===void 0)&&i[0]){const o=n.candidates[0];Ge(o)&&(s+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(s+=`: ${o.finishMessage}`))}return s}function Pe(n){return this instanceof Pe?(this.v=n,this):new Pe(n)}function Ka(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),s,o=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(p){i[p]&&(s[p]=function(C){return new Promise(function(b,T){o.push([p,C,b,T])>1||h(p,C)})})}function h(p,C){try{f(i[p](C))}catch(b){v(o[0][3],b)}}function f(p){p.value instanceof Pe?Promise.resolve(p.value.v).then(m,g):v(o[0][2],p)}function m(p){h("next",p)}function g(p){h("throw",p)}function v(p,C){p(C),o.shift(),o.length&&h(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Za(n){const e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=tl(e),[i,s]=t.tee();return{stream:el(i),response:Qa(s)}}async function Qa(n){const e=[],t=n.getReader();for(;;){const{done:i,value:s}=await t.read();if(i)return qt(nl(e));e.push(s)}}function el(n){return Ka(this,arguments,function*(){const t=n.getReader();for(;;){const{value:i,done:s}=yield Pe(t.read());if(s)break;yield yield Pe(qt(i))}})}function tl(n){const e=n.getReader();return new ReadableStream({start(i){let s="";return o();function o(){return e.read().then(({value:c,done:h})=>{if(h){if(s.trim()){i.error(new J("Failed to parse stream"));return}i.close();return}s+=c;let f=s.match(Wn),m;for(;f;){try{m=JSON.parse(f[1])}catch{i.error(new J(`Error parsing JSON response: "${f[1]}"`));return}i.enqueue(m),s=s.substring(f[0].length),f=s.match(Wn)}return o()})}}})}function nl(n){const e=n[n.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const i of n)if(i.candidates)for(const s of i.candidates){const o=s.index;if(t.candidates||(t.candidates=[]),t.candidates[o]||(t.candidates[o]={index:s.index}),t.candidates[o].citationMetadata=s.citationMetadata,t.candidates[o].finishReason=s.finishReason,t.candidates[o].finishMessage=s.finishMessage,t.candidates[o].safetyRatings=s.safetyRatings,s.content&&s.content.parts){t.candidates[o].content||(t.candidates[o].content={role:s.content.role||"user",parts:[]});const c={};for(const h of s.content.parts)h.text&&(c.text=h.text),h.functionCall&&(c.functionCall=h.functionCall),Object.keys(c).length===0&&(c.text=""),t.candidates[o].content.parts.push(c)}}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ei(n,e,t,i){const s=await Ne(e,be.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),i);return Za(s)}async function Ii(n,e,t,i){const o=await(await Ne(e,be.GENERATE_CONTENT,n,!1,JSON.stringify(t),i)).json();return{response:qt(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function et(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(const t of n)typeof t=="string"?e.push({text:t}):e.push(t);return il(e)}function il(n){const e={role:"user",parts:[]},t={role:"function",parts:[]};let i=!1,s=!1;for(const o of n)"functionResponse"in o?(t.parts.push(o),s=!0):(e.parts.push(o),i=!0);if(i&&s)throw new J("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!s)throw new J("No content is provided for sending chat message.");return i?e:t}function Ot(n){let e;return n.contents?e=n:e={contents:[et(n)]},n.systemInstruction&&(e.systemInstruction=Oi(n.systemInstruction)),e}function sl(n){return typeof n=="string"||Array.isArray(n)?{content:et(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=["text","inlineData","functionCall","functionResponse"],rl={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]};function ol(n){let e=!1;for(const t of n){const{role:i,parts:s}=t;if(!e&&i!=="user")throw new J(`First content should be with role 'user', got ${i}`);if(!Mn.includes(i))throw new J(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(Mn)}`);if(!Array.isArray(s))throw new J("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new J("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0};for(const h of s)for(const f of Yn)f in h&&(o[f]+=1);const c=rl[i];for(const h of Yn)if(!c.includes(h)&&o[h]>0)throw new J(`Content with role '${i}' can't contain '${h}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="SILENT_ERROR";class al{constructor(e,t,i,s){this.model=t,this.params=i,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,i!=null&&i.history&&(ol(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var t,i,s,o,c;await this._sendPromise;const h=et(e),f={safetySettings:(t=this.params)===null||t===void 0?void 0:t.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,contents:[...this._history,h]};let m;return this._sendPromise=this._sendPromise.then(()=>Ii(this._apiKey,this.model,f,this.requestOptions)).then(g=>{var v;if(g.response.candidates&&g.response.candidates.length>0){this._history.push(h);const p=Object.assign({parts:[],role:"model"},(v=g.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(p)}else{const p=de(g.response);p&&console.warn(`sendMessage() was unsuccessful. ${p}. Inspect response object for details.`)}m=g}),await this._sendPromise,m}async sendMessageStream(e){var t,i,s,o,c;await this._sendPromise;const h=et(e),f={safetySettings:(t=this.params)===null||t===void 0?void 0:t.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,contents:[...this._history,h]},m=Ei(this._apiKey,this.model,f,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>m).catch(g=>{throw new Error(Vn)}).then(g=>g.response).then(g=>{if(g.candidates&&g.candidates.length>0){this._history.push(h);const v=Object.assign({},g.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=de(g);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(g=>{g.message!==Vn&&console.error(g)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n,e,t,i){return(await Ne(e,be.COUNT_TOKENS,n,!1,JSON.stringify(Object.assign(Object.assign({},t),{model:e})),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,e,t,i){return(await Ne(e,be.EMBED_CONTENT,n,!1,JSON.stringify(t),i)).json()}async function ul(n,e,t,i){const s=t.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await Ne(e,be.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:s}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t,i){this.apiKey=e,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=Oi(t.systemInstruction),this.requestOptions=i||{}}async generateContent(e){const t=Ot(e);return Ii(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},t),this.requestOptions)}async generateContentStream(e){const t=Ot(e);return Ei(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},t),this.requestOptions)}startChat(e){return new al(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},e),this.requestOptions)}async countTokens(e){const t=Ot(e);return ll(this.apiKey,this.model,t,this.requestOptions)}async embedContent(e){const t=sl(e);return cl(this.apiKey,this.model,t,this.requestOptions)}async batchEmbedContents(e){return ul(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new J("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new hl(this.apiKey,e,t)}}za(document.getElementById("lightgallery"),{plugins:[Ma,Ha],speed:500,thumbnail:!0});const fl="AIzaSyArfgYuAN4t56Jwhya56eWl3gtxLgi2zZU",gl=new dl(fl);gl.getGenerativeModel({model:"gemini-1.5-flash"});
